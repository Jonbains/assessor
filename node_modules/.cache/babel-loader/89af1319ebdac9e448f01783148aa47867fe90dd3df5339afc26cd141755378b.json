{"ast":null,"code":"var _jsxFileName = \"/Users/jon/Documents/GitHub/assessor/src/core/components/DynamicQuestions.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ProgressBar } from './ProgressBar';\nimport Navigation from './Navigation';\nimport styles from '../styles/components.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DynamicQuestions = ({\n  assessmentType,\n  saveResponse,\n  getResponse,\n  onComplete,\n  onBack,\n  progress\n}) => {\n  _s();\n  const [questions, setQuestions] = useState([]);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    loadQuestions();\n  }, [assessmentType]);\n  const loadQuestions = async () => {\n    try {\n      setLoading(true);\n      console.log('Loading questions for assessment type:', assessmentType);\n\n      // Load core questions based on assessment type\n      const module = await import(`../../assessments/${assessmentType}/questions.json`);\n      const data = module.default || module;\n\n      // Extract and flatten core questions array from the loaded data\n      let coreQuestions = [];\n      if (data.questions) {\n        // Direct questions array format\n        coreQuestions = data.questions;\n      } else if (data.coreQuestions) {\n        // Nested questions by category format\n        Object.values(data.coreQuestions).forEach(questionSet => {\n          if (Array.isArray(questionSet)) {\n            coreQuestions = [...coreQuestions, ...questionSet];\n          }\n        });\n      }\n      console.log(`Loaded ${coreQuestions.length} core questions`);\n\n      // If we have selected services, load service-specific questions\n      let serviceQuestions = [];\n      // Get selected services from responses\n      const selectedServices = getResponse('selectedServices');\n      console.log('DEBUG - Selected services in DynamicQuestions:', selectedServices);\n      console.log('DEBUG - Type of selectedServices:', typeof selectedServices);\n      if (selectedServices && Object.keys(selectedServices).length > 0) {\n        try {\n          // Load service-specific questions\n          console.log(`DEBUG - Loading service questions from: ../../assessments/${assessmentType}/service-questions.json`);\n          const serviceModule = await import(`../../assessments/${assessmentType}/service-questions.json`);\n          const serviceData = serviceModule.default || serviceModule;\n          console.log('DEBUG - Service questions data structure:', JSON.stringify(serviceData, null, 2));\n\n          // Debug the full serviceData structure to identify correct format\n          if (serviceData.serviceQuestions) {\n            console.log('DEBUG - Service data has serviceQuestions property');\n            console.log('DEBUG - Available service IDs in serviceQuestions:', Object.keys(serviceData.serviceQuestions));\n          } else {\n            console.log('DEBUG - Service data format:', Object.keys(serviceData));\n          }\n\n          // Check threshold for including service questions (any service with allocation > 0.1 or 10%)\n          Object.keys(selectedServices).forEach(serviceId => {\n            const allocation = selectedServices[serviceId];\n            console.log(`DEBUG - Processing service ${serviceId} with allocation ${allocation}`);\n\n            // Only include questions for services with significant allocation (> 10%)\n            if (allocation > 0.1) {\n              // First check standard format: serviceQuestions[serviceId].questions\n              if (serviceData.serviceQuestions && serviceData.serviceQuestions[serviceId] && serviceData.serviceQuestions[serviceId].questions) {\n                const serviceQuestionSet = serviceData.serviceQuestions[serviceId].questions || [];\n                console.log(`Adding ${serviceQuestionSet.length} questions for service ${serviceId} (allocation: ${Math.round(allocation * 100)}%)`);\n                serviceQuestions = [...serviceQuestions, ...serviceQuestionSet];\n              }\n              // Alternate format: direct mapping of serviceId to questions array\n              else if (serviceData[serviceId]) {\n                const serviceQuestionSet = Array.isArray(serviceData[serviceId]) ? serviceData[serviceId] : serviceData[serviceId].questions || [];\n                console.log(`Adding ${serviceQuestionSet.length} questions for service ${serviceId} using alternate format`);\n                serviceQuestions = [...serviceQuestions, ...serviceQuestionSet];\n              } else {\n                console.error(`No questions found for service ${serviceId} - data structure may be incorrect`);\n                console.log('Available keys:', Object.keys(serviceData));\n                if (serviceData.serviceQuestions) {\n                  console.log('Available service IDs:', Object.keys(serviceData.serviceQuestions));\n                }\n              }\n            } else {\n              console.log(`Skipping questions for service ${serviceId} due to low allocation (${Math.round(allocation * 100)}%)`);\n            }\n          });\n        } catch (err) {\n          console.error('Error loading service questions:', err);\n          console.error('Error details:', err.message, err.stack);\n        }\n      } else {\n        console.warn('No services selected or invalid selectedServices format:', selectedServices);\n      }\n      console.log(`Total service questions: ${serviceQuestions.length}`);\n\n      // Combine all question types\n      const allQuestions = [...coreQuestions, ...serviceQuestions];\n      console.log(`Total questions to display: ${allQuestions.length}`);\n      setQuestions(allQuestions);\n    } catch (error) {\n      console.error('Failed to load questions:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const currentQuestion = questions[currentQuestionIndex];\n  const isLastQuestion = currentQuestionIndex === questions.length - 1;\n  const handleAnswer = (questionId, value) => {\n    // Save the answer\n    saveResponse(questionId, value);\n\n    // Auto-advance to next question after a short delay\n    setTimeout(() => {\n      if (currentQuestionIndex < questions.length - 1) {\n        setCurrentQuestionIndex(currentQuestionIndex + 1);\n      }\n    }, 300);\n  };\n  const handleNext = () => {\n    // Validate if the current question is answered\n    const currentQ = questions[currentQuestionIndex];\n    if (currentQ && currentQ.required !== false && !getResponse(currentQ.id)) {\n      alert('Please answer this question before continuing');\n      return;\n    }\n    if (isLastQuestion) {\n      // Move to the next stage using onComplete callback\n      onComplete();\n    } else {\n      setCurrentQuestionIndex(prev => prev + 1);\n    }\n  };\n  const handlePrevious = () => {\n    if (currentQuestionIndex > 0) {\n      setCurrentQuestionIndex(prev => prev - 1);\n    } else {\n      // Go back to the previous stage in the assessment flow\n      onBack();\n    }\n  };\n  const handleSkip = () => {\n    handleNext();\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.loadingContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.spinner\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading questions...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }, this);\n  }\n  if (!currentQuestion) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.errorContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No questions available for this assessment.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        children: \"Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this);\n  }\n  const selectedValue = getResponse(currentQuestion.id);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.qualifyingContainer,\n    children: [/*#__PURE__*/_jsxDEV(ProgressBar, {\n      progress: progress || 65,\n      stage: \"assessment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.questionContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.questionHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your Organization Assessment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.questionNumber,\n          children: [\"Question \", currentQuestionIndex + 1, \" of \", questions.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this), currentQuestion && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.questionContent,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: styles.questionText,\n          children: [currentQuestion.question || currentQuestion.text, currentQuestion.required !== false && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.required,\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 68\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.optionsGrid,\n          children: currentQuestion.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `${styles.optionButton} ${selectedValue === (option.value || option.score || index) ? styles.selected : ''}`,\n            onClick: () => handleAnswer(currentQuestion.id, option.value || option.score || index),\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.optionLabel,\n              children: option.label || option.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 37\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 25\n        }, this), currentQuestion.insight && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.questionInsight,\n          children: currentQuestion.insight\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 29\n        }, this), currentQuestion.benchmark && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.questionBenchmark,\n          children: currentQuestion.benchmark\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.questionDots,\n        children: questions.map((_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${styles.dot} ${index === currentQuestionIndex ? styles.active : ''} ${getResponse(questions[index].id) ? styles.answered : ''}`,\n          onClick: () => setCurrentQuestionIndex(index),\n          \"aria-label\": `Go to question ${index + 1}`\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Navigation, {\n      onBack: handlePrevious,\n      onNext: handleNext,\n      onSkip: (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.required) === false ? handleSkip : null,\n      nextLabel: isLastQuestion ? \"Complete\" : \"Continue\",\n      showNext: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 9\n  }, this);\n};\n_s(DynamicQuestions, \"hJiJQOXcC+XQPaBxuPtmnYbXKjw=\");\n_c = DynamicQuestions;\nexport default DynamicQuestions;\nvar _c;\n$RefreshReg$(_c, \"DynamicQuestions\");","map":{"version":3,"names":["React","useState","useEffect","ProgressBar","Navigation","styles","jsxDEV","_jsxDEV","DynamicQuestions","assessmentType","saveResponse","getResponse","onComplete","onBack","progress","_s","questions","setQuestions","currentQuestionIndex","setCurrentQuestionIndex","loading","setLoading","loadQuestions","console","log","module","data","default","coreQuestions","Object","values","forEach","questionSet","Array","isArray","length","serviceQuestions","selectedServices","keys","serviceModule","serviceData","JSON","stringify","serviceId","allocation","serviceQuestionSet","Math","round","error","err","message","stack","warn","allQuestions","currentQuestion","isLastQuestion","handleAnswer","questionId","value","setTimeout","handleNext","currentQ","required","id","alert","prev","handlePrevious","handleSkip","className","loadingContainer","children","spinner","fileName","_jsxFileName","lineNumber","columnNumber","errorContainer","onClick","selectedValue","qualifyingContainer","stage","questionContainer","questionHeader","questionNumber","questionContent","questionText","question","text","optionsGrid","options","map","option","index","optionButton","score","selected","optionLabel","label","insight","questionInsight","benchmark","questionBenchmark","questionDots","_","dot","active","answered","onNext","onSkip","nextLabel","showNext","_c","$RefreshReg$"],"sources":["/Users/jon/Documents/GitHub/assessor/src/core/components/DynamicQuestions.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ProgressBar } from './ProgressBar';\nimport Navigation from './Navigation';\nimport styles from '../styles/components.module.css';\n\nconst DynamicQuestions = ({ \n    assessmentType, \n    saveResponse, \n    getResponse, \n    onComplete,\n    onBack,\n    progress\n}) => {\n    const [questions, setQuestions] = useState([]);\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        loadQuestions();\n    }, [assessmentType]);\n\n    const loadQuestions = async () => {\n        try {\n            setLoading(true);\n            console.log('Loading questions for assessment type:', assessmentType);\n            \n            // Load core questions based on assessment type\n            const module = await import(`../../assessments/${assessmentType}/questions.json`);\n            const data = module.default || module;\n            \n            // Extract and flatten core questions array from the loaded data\n            let coreQuestions = [];\n            if (data.questions) {\n                // Direct questions array format\n                coreQuestions = data.questions;\n            } else if (data.coreQuestions) {\n                // Nested questions by category format\n                Object.values(data.coreQuestions).forEach(questionSet => {\n                    if (Array.isArray(questionSet)) {\n                        coreQuestions = [...coreQuestions, ...questionSet];\n                    }\n                });\n            }\n            console.log(`Loaded ${coreQuestions.length} core questions`);\n            \n            // If we have selected services, load service-specific questions\n            let serviceQuestions = [];\n            // Get selected services from responses\n            const selectedServices = getResponse('selectedServices');\n            \n            console.log('DEBUG - Selected services in DynamicQuestions:', selectedServices);\n            console.log('DEBUG - Type of selectedServices:', typeof selectedServices);\n            \n            if (selectedServices && Object.keys(selectedServices).length > 0) {\n                try {\n                    // Load service-specific questions\n                    console.log(`DEBUG - Loading service questions from: ../../assessments/${assessmentType}/service-questions.json`);\n                    const serviceModule = await import(`../../assessments/${assessmentType}/service-questions.json`);\n                    const serviceData = serviceModule.default || serviceModule;\n                    \n                    console.log('DEBUG - Service questions data structure:', JSON.stringify(serviceData, null, 2));\n                    \n                    // Debug the full serviceData structure to identify correct format\n                    if (serviceData.serviceQuestions) {\n                        console.log('DEBUG - Service data has serviceQuestions property');\n                        console.log('DEBUG - Available service IDs in serviceQuestions:', Object.keys(serviceData.serviceQuestions));\n                    } else {\n                        console.log('DEBUG - Service data format:', Object.keys(serviceData));\n                    }\n                    \n                    // Check threshold for including service questions (any service with allocation > 0.1 or 10%)\n                    Object.keys(selectedServices).forEach(serviceId => {\n                        const allocation = selectedServices[serviceId];\n                        console.log(`DEBUG - Processing service ${serviceId} with allocation ${allocation}`);\n                        \n                        // Only include questions for services with significant allocation (> 10%)\n                        if (allocation > 0.1) {\n                            // First check standard format: serviceQuestions[serviceId].questions\n                            if (serviceData.serviceQuestions && serviceData.serviceQuestions[serviceId] && serviceData.serviceQuestions[serviceId].questions) {\n                                const serviceQuestionSet = serviceData.serviceQuestions[serviceId].questions || [];\n                                console.log(`Adding ${serviceQuestionSet.length} questions for service ${serviceId} (allocation: ${Math.round(allocation * 100)}%)`);\n                                serviceQuestions = [...serviceQuestions, ...serviceQuestionSet];\n                            } \n                            // Alternate format: direct mapping of serviceId to questions array\n                            else if (serviceData[serviceId]) {\n                                const serviceQuestionSet = Array.isArray(serviceData[serviceId]) \n                                    ? serviceData[serviceId] \n                                    : (serviceData[serviceId].questions || []);\n                                console.log(`Adding ${serviceQuestionSet.length} questions for service ${serviceId} using alternate format`);\n                                serviceQuestions = [...serviceQuestions, ...serviceQuestionSet];\n                            } else {\n                                console.error(`No questions found for service ${serviceId} - data structure may be incorrect`);\n                                console.log('Available keys:', Object.keys(serviceData));\n                                if (serviceData.serviceQuestions) {\n                                    console.log('Available service IDs:', Object.keys(serviceData.serviceQuestions));\n                                }\n                            }\n                        } else {\n                            console.log(`Skipping questions for service ${serviceId} due to low allocation (${Math.round(allocation * 100)}%)`);\n                        }\n                    });\n                } catch (err) {\n                    console.error('Error loading service questions:', err);\n                    console.error('Error details:', err.message, err.stack);\n                }\n            } else {\n                console.warn('No services selected or invalid selectedServices format:', selectedServices);\n            }\n            \n            console.log(`Total service questions: ${serviceQuestions.length}`);\n            \n            // Combine all question types\n            const allQuestions = [\n                ...coreQuestions,\n                ...serviceQuestions\n            ];\n            \n            console.log(`Total questions to display: ${allQuestions.length}`);\n            setQuestions(allQuestions);\n        } catch (error) {\n            console.error('Failed to load questions:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const currentQuestion = questions[currentQuestionIndex];\n    const isLastQuestion = currentQuestionIndex === questions.length - 1;\n\n    const handleAnswer = (questionId, value) => {\n        // Save the answer\n        saveResponse(questionId, value);\n        \n        // Auto-advance to next question after a short delay\n        setTimeout(() => {\n            if (currentQuestionIndex < questions.length - 1) {\n                setCurrentQuestionIndex(currentQuestionIndex + 1);\n            }\n        }, 300);\n    };\n\n    const handleNext = () => {\n        // Validate if the current question is answered\n        const currentQ = questions[currentQuestionIndex];\n        if (currentQ && currentQ.required !== false && !getResponse(currentQ.id)) {\n            alert('Please answer this question before continuing');\n            return;\n        }\n        \n        if (isLastQuestion) {\n            // Move to the next stage using onComplete callback\n            onComplete();\n        } else {\n            setCurrentQuestionIndex(prev => prev + 1);\n        }\n    };\n\n    const handlePrevious = () => {\n        if (currentQuestionIndex > 0) {\n            setCurrentQuestionIndex(prev => prev - 1);\n        } else {\n            // Go back to the previous stage in the assessment flow\n            onBack();\n        }\n    };\n\n    const handleSkip = () => {\n        handleNext();\n    };\n\n    if (loading) {\n        return (\n            <div className={styles.loadingContainer}>\n                <div className={styles.spinner} />\n                <p>Loading questions...</p>\n            </div>\n        );\n    }\n\n    if (!currentQuestion) {\n        return (\n            <div className={styles.errorContainer}>\n                <p>No questions available for this assessment.</p>\n                <button onClick={onBack}>Go Back</button>\n            </div>\n        );\n    }\n\n    const selectedValue = getResponse(currentQuestion.id);\n\n    return (\n        <div className={styles.qualifyingContainer}>\n            <ProgressBar progress={progress || 65} stage=\"assessment\" />\n            \n            <div className={styles.questionContainer}>\n                <div className={styles.questionHeader}>\n                    <h2>Your Organization Assessment</h2>\n                    <p className={styles.questionNumber}>\n                        Question {currentQuestionIndex + 1} of {questions.length}\n                    </p>\n                </div>\n\n                {currentQuestion && (\n                    <div className={styles.questionContent}>\n                        <h3 className={styles.questionText}>\n                            {currentQuestion.question || currentQuestion.text}\n                            {currentQuestion.required !== false && <span className={styles.required}>*</span>}\n                        </h3>\n                        \n                        <div className={styles.optionsGrid}>\n                            {currentQuestion.options.map((option, index) => (\n                                <button\n                                    key={index}\n                                    className={`${styles.optionButton} ${\n                                        selectedValue === (option.value || option.score || index) ? styles.selected : ''\n                                    }`}\n                                    onClick={() => handleAnswer(currentQuestion.id, option.value || option.score || index)}\n                                >\n                                    <span className={styles.optionLabel}>{option.label || option.text}</span>\n                                </button>\n                            ))}\n                        </div>\n                        \n                        {currentQuestion.insight && (\n                            <p className={styles.questionInsight}>{currentQuestion.insight}</p>\n                        )}\n                        \n                        {currentQuestion.benchmark && (\n                            <p className={styles.questionBenchmark}>{currentQuestion.benchmark}</p>\n                        )}\n                    </div>\n                )}\n\n                {/* Question navigation dots */}\n                <div className={styles.questionDots}>\n                    {questions.map((_, index) => (\n                        <button\n                            key={index}\n                            className={`${styles.dot} ${\n                                index === currentQuestionIndex ? styles.active : ''\n                            } ${getResponse(questions[index].id) ? styles.answered : ''}`}\n                            onClick={() => setCurrentQuestionIndex(index)}\n                            aria-label={`Go to question ${index + 1}`}\n                        />\n                    ))}\n                </div>\n            </div>\n\n            <Navigation\n                onBack={handlePrevious}\n                onNext={handleNext}\n                onSkip={currentQuestion?.required === false ? handleSkip : null}\n                nextLabel={isLastQuestion ? \"Complete\" : \"Continue\"}\n                showNext={true}\n            />\n        </div>\n    );\n};\n\nexport default DynamicQuestions;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}