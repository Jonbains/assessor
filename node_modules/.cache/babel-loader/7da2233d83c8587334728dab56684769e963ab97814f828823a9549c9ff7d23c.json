{"ast":null,"code":"var _jsxFileName = \"/Users/jon/Documents/GitHub/assessor/src/core/components/ServiceSelector.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ProgressBar } from './ProgressBar';\nimport styles from '../styles/components.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ServiceSelector = ({\n  assessmentType,\n  onSelect,\n  onBack\n}) => {\n  _s();\n  const [services, setServices] = useState([]);\n  const [selectedServices, setSelectedServices] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  console.log(`ServiceSelector rendered, assessment type: ${assessmentType}`);\n  console.log('Current assessment data:', {\n    qualifying: {},\n    services: services || [],\n    responses: {}\n  });\n  const loadServices = async () => {\n    try {\n      setLoading(true);\n      console.log(`Loading services for assessment type: ${assessmentType}`);\n      // Dynamic import for services based on assessment type - fix path to be relative to src\n      const servicesModule = await import(`../../../assessments/${assessmentType}/services.json`);\n      // Ensure services is always an array\n      const servicesData = servicesModule.default || {};\n      setServices(Array.isArray(servicesData) ? servicesData : Object.values(servicesData));\n      setError(null);\n    } catch (error) {\n      console.error('Failed to load services:', error);\n      setError('Failed to load services. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    loadServices();\n  }, [assessmentType]);\n  const toggleService = serviceId => {\n    setSelectedServices(prev => {\n      const newSelections = {\n        ...prev\n      };\n      if (newSelections[serviceId]) {\n        delete newSelections[serviceId];\n      } else {\n        newSelections[serviceId] = 1;\n      }\n      return newSelections;\n    });\n  };\n  const handleContinue = () => {\n    const selected = Object.keys(selectedServices);\n    if (selected.length === 0) {\n      alert('Please select at least one service to continue');\n      return;\n    }\n    onSelect(selected);\n  };\n  const hasSelections = Object.keys(selectedServices).length > 0;\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.loading,\n      children: \"Loading services...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 16\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.error,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => loadServices(),\n        children: \"Try Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Select Services\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n        progress: 40\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Which services does your agency provide? Select all that apply.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.serviceGrid,\n      children: services.map(service => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${styles.serviceCard} ${selectedServices[service.id] ? styles.selected : ''}`,\n        onClick: () => toggleService(service.id),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.serviceIcon,\n          children: service.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: service.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: service.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this), selectedServices[service.id] && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.checkmark,\n          children: \"\\u2713\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 58\n        }, this)]\n      }, service.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.buttonContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.backButton,\n        onClick: onBack,\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.continueButton,\n        disabled: !hasSelections,\n        onClick: handleContinue,\n        children: \"Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n_s(ServiceSelector, \"B/N3A929WzrHhGs/MBebNSkG4Lc=\");\n_c = ServiceSelector;\nexport default ServiceSelector;\nvar _c;\n$RefreshReg$(_c, \"ServiceSelector\");","map":{"version":3,"names":["React","useState","useEffect","ProgressBar","styles","jsxDEV","_jsxDEV","ServiceSelector","assessmentType","onSelect","onBack","_s","services","setServices","selectedServices","setSelectedServices","loading","setLoading","error","setError","console","log","qualifying","responses","loadServices","servicesModule","servicesData","default","Array","isArray","Object","values","toggleService","serviceId","prev","newSelections","handleContinue","selected","keys","length","alert","hasSelections","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","container","header","progress","serviceGrid","map","service","serviceCard","id","serviceIcon","icon","name","description","checkmark","buttonContainer","backButton","continueButton","disabled","_c","$RefreshReg$"],"sources":["/Users/jon/Documents/GitHub/assessor/src/core/components/ServiceSelector.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ProgressBar } from './ProgressBar';\nimport styles from '../styles/components.module.css';\n\nconst ServiceSelector = ({ assessmentType, onSelect, onBack }) => {\n    const [services, setServices] = useState([]);\n    const [selectedServices, setSelectedServices] = useState({});\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    \n    console.log(`ServiceSelector rendered, assessment type: ${assessmentType}`);\n    console.log('Current assessment data:', { qualifying: {}, services: services || [], responses: {} });\n\n    const loadServices = async () => {\n        try {\n            setLoading(true);\n            console.log(`Loading services for assessment type: ${assessmentType}`); \n            // Dynamic import for services based on assessment type - fix path to be relative to src\n            const servicesModule = await import(`../../../assessments/${assessmentType}/services.json`);\n            // Ensure services is always an array\n            const servicesData = servicesModule.default || {};\n            setServices(Array.isArray(servicesData) ? servicesData : Object.values(servicesData));\n            setError(null);\n        } catch (error) {\n            console.error('Failed to load services:', error);\n            setError('Failed to load services. Please try again.');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        loadServices();\n    }, [assessmentType]);\n\n    const toggleService = (serviceId) => {\n        setSelectedServices(prev => {\n            const newSelections = { ...prev };\n            if (newSelections[serviceId]) {\n                delete newSelections[serviceId];\n            } else {\n                newSelections[serviceId] = 1;\n            }\n            return newSelections;\n        });\n    };\n\n    const handleContinue = () => {\n        const selected = Object.keys(selectedServices);\n        \n        if (selected.length === 0) {\n            alert('Please select at least one service to continue');\n            return;\n        }\n        \n        onSelect(selected);\n    };\n\n    const hasSelections = Object.keys(selectedServices).length > 0;\n\n    if (loading) {\n        return <div className={styles.loading}>Loading services...</div>;\n    }\n\n    if (error) {\n        return (\n            <div className={styles.error}>\n                <p>{error}</p>\n                <button onClick={() => loadServices()}>Try Again</button>\n            </div>\n        );\n    }\n\n    return (\n        <div className={styles.container}>\n            <div className={styles.header}>\n                <h2>Select Services</h2>\n                <ProgressBar progress={40} />\n            </div>\n            \n            <p>Which services does your agency provide? Select all that apply.</p>\n            \n            <div className={styles.serviceGrid}>\n                {services.map(service => (\n                    <div \n                        key={service.id}\n                        className={`${styles.serviceCard} ${selectedServices[service.id] ? styles.selected : ''}`}\n                        onClick={() => toggleService(service.id)}\n                    >\n                        <div className={styles.serviceIcon}>{service.icon}</div>\n                        <h3>{service.name}</h3>\n                        <p>{service.description}</p>\n                        {selectedServices[service.id] && <div className={styles.checkmark}>âœ“</div>}\n                    </div>\n                ))}\n            </div>\n            \n            <div className={styles.buttonContainer}>\n                <button \n                    className={styles.backButton} \n                    onClick={onBack}\n                >\n                    Back\n                </button>\n                <button \n                    className={styles.continueButton}\n                    disabled={!hasSelections}\n                    onClick={handleContinue}\n                >\n                    Continue\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default ServiceSelector;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}