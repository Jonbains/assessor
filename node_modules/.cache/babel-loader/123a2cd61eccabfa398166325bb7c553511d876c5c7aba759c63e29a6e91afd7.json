{"ast":null,"code":"var _jsxFileName = \"/Users/jon/Documents/GitHub/assessor/src/core/components/ResultsDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styles from '../styles/components.module.css';\nimport { AssessmentEngine } from '../engine/AssessmentEngine';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ResultsDashboard = ({\n  assessmentType,\n  calculateResults,\n  onRestart,\n  ResultsView,\n  getResponse,\n  // Add these props to access the full assessment data\n  getContext\n}) => {\n  _s();\n  var _report$executive, _report$executive2, _report$executive3, _report$executive4, _report$executive5, _report$executive5$sn, _report$executive5$sn2, _report$executive6, _report$executive6$sn, _report$executive6$sn2, _report$executive7, _report$executive7$sn, _report$readiness, _report$readiness$dim, _recommendations$imme, _report$roadmap, _report$roadmap$phase, _report$valuation, _report$valuation2, _report$valuation3, _report$valuation3$cu, _report$valuation4, _report$valuation4$cu, _report$valuation5, _report$valuation5$po, _report$valuation6, _report$valuation6$po, _report$valuation7, _report$valuation7$po, _report$valuation8, _report$valuation8$dr, _report$nextSteps, _report$nextSteps$boo, _report$nextSteps2, _report$nextSteps2$bo, _report$nextSteps3, _report$nextSteps3$bo, _report$nextSteps4, _report$nextSteps5;\n  const [results, setResults] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeSection, setActiveSection] = useState('summary');\n  useEffect(() => {\n    console.log('ResultsDashboard mounted with assessmentType:', assessmentType);\n    console.log('Custom ResultsView provided:', !!ResultsView);\n    generateResults();\n  }, []);\n\n  // Transform the scoring engine output to match the expected ResultsView format\n  const adaptResultsFormat = rawResults => {\n    console.log('Adapting results format for view:', assessmentType);\n    console.log('Raw results structure:', Object.keys(rawResults || {}));\n    if (!rawResults) {\n      console.error('adaptResultsFormat received null/undefined rawResults');\n      return null;\n    }\n\n    // For agency-vulnerability assessment\n    if (assessmentType === 'agency-vulnerability') {\n      var _priorities$;\n      // Direct extraction from raw results - the scoring engine output structure\n      // doesn't have a nested 'scores' object\n      const overallScore = rawResults.overall || 0;\n      const dimensionScores = rawResults.dimensions || {};\n\n      // Extract insights which contain the priority areas\n      const insights = rawResults.insights || [];\n      const priorities = insights.filter(insight => insight.priority).sort((a, b) => a.priority - b.priority);\n\n      // Create these objects with default values if not present in raw results\n      const vulnerabilityMetrics = rawResults.vulnerabilityMetrics || {};\n      const serviceScores = rawResults.serviceScores || {};\n\n      // Log the correctly extracted data\n      console.log('Correctly extracted data from raw results:', {\n        overallScore,\n        dimensionScores,\n        prioritiesCount: priorities.length,\n        serviceScoresCount: Object.keys(serviceScores).length,\n        vulnerabilityMetrics\n      });\n\n      // Construct default market position data if not available\n      const marketPosition = {\n        position: overallScore < 40 ? 'Behind Competitors' : overallScore < 70 ? 'On Par with Competitors' : 'Leading the Market',\n        percentile: Math.round(overallScore * 0.9),\n        // Approximate percentile based on score\n        timeAdvantage: overallScore < 40 ? '1-3 months behind' : '3-6 months advantage',\n        competitiveAdvantage: overallScore < 40 ? 'Limited' : overallScore < 70 ? 'Moderate' : 'Significant',\n        threatLevel: overallScore < 40 ? 'High' : overallScore < 70 ? 'Moderate' : 'Low'\n      };\n\n      // Construct default efficiency data if not available\n      const efficiencyPotential = {\n        overall: Math.round(vulnerabilityMetrics.overall || 50),\n        timeRecovered: `${Math.round((vulnerabilityMetrics.average || 50) / 10)} hours/week`,\n        costSavings: `${Math.round((vulnerabilityMetrics.overall || 50) * 100 / 25)}k annually`\n      };\n\n      // Create adapted results format expected by AgencyResultsView\n      const adaptedResults = {\n        // Executive summary section\n        executive: {\n          headline: `Your Agency is ${marketPosition.position}`,\n          subheadline: `You're in the ${marketPosition.percentile}th percentile of agencies`,\n          keyMetrics: {\n            readinessScore: {\n              value: overallScore,\n              label: 'Readiness Score',\n              interpretation: `${overallScore < 40 ? 'Low' : overallScore < 70 ? 'Medium' : 'High'} readiness`\n            },\n            efficiencyGain: {\n              value: `${efficiencyPotential.overall}%`,\n              label: 'Efficiency Potential',\n              interpretation: `${efficiencyPotential.timeRecovered} hours/week reclaimed`\n            },\n            transformationUrgency: {\n              value: priorities.length > 0 ? priorities[0].urgency || 'Medium' : 'Medium',\n              label: 'Transformation Urgency',\n              interpretation: marketPosition.timeAdvantage\n            }\n          },\n          narrative: `Your agency's AI readiness score is ${overallScore}. ${marketPosition.competitiveAdvantage} competitive advantage with ${marketPosition.threatLevel} threat level.`\n        },\n        // Readiness analysis section\n        readiness: {\n          dimensions: Object.entries(dimensionScores).map(([key, value]) => ({\n            name: key.charAt(0).toUpperCase() + key.slice(1),\n            score: Math.round(value),\n            description: `Your ${key} score indicates ${value < 40 ? 'significant room for improvement' : value < 70 ? 'moderate capability' : 'strong capability'}.`\n          })),\n          narrative: `Your agency shows ${overallScore < 40 ? 'concerning vulnerabilities' : overallScore < 70 ? 'moderate preparedness' : 'strong positioning'} in the face of AI disruption. The dimension scores indicate where to focus your transformation efforts.`,\n          serviceReadiness: Object.entries(serviceScores).map(([service, data]) => ({\n            name: service.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase()),\n            score: (data === null || data === void 0 ? void 0 : data.score) || 0,\n            interpretation: (data === null || data === void 0 ? void 0 : data.readiness) || 'medium',\n            timeToDisruption: (data === null || data === void 0 ? void 0 : data.score) > 70 ? '3-6 months' : (data === null || data === void 0 ? void 0 : data.score) > 40 ? '12-18 months' : '24+ months'\n          })),\n          transformationPaths: {\n            content_creation: \"Implement AI writing workflow: Research → AI Draft → Human Edit → AI Optimize. Target: 3x output, same team.\",\n            creative_design: \"AI for ideation and variations: Brief → AI Concepts → Human Curation → AI Production. Deliver 10x options in half the time.\",\n            digital_marketing: \"Automate optimization: AI for copy testing, bid management, audience discovery. Focus humans on strategy and client relations.\",\n            seo_sem: \"AI-powered SEO at scale: Automated audits, content optimization, competitive tracking. Deliver enterprise-level insights to SMBs.\",\n            pr_comms: \"AI for media intelligence: Monitor everything, predict pickup, personalize pitches. Humans focus on relationships and narrative.\",\n            strategy_consulting: \"AI-enhanced insights: Use AI for research, analysis, and scenario modeling. Position as 'data-driven strategy' premium service.\"\n          }\n        },\n        // Opportunities section\n        opportunities: {\n          immediate: {\n            title: 'Priority Transformation Areas',\n            subtitle: 'These areas require immediate attention',\n            items: priorities.slice(0, 3).map(priority => ({\n              title: priority.area || 'Unknown',\n              description: priority.description || 'No description available',\n              effort: priority.effort || 'Medium',\n              impact: priority.impact || 'High'\n            }))\n          },\n          // Add service-specific opportunities\n          serviceSpecific: Object.entries(serviceScores).filter(([_, data]) => (data === null || data === void 0 ? void 0 : data.score) > 50) // Focus on vulnerable services\n          .map(([service, data]) => {\n            // Map service key to proper format for lookup\n            const serviceKey = service.toLowerCase().replace(/\\s+/g, '_');\n\n            // Create default recommendation if specific one not found\n            return {\n              service: service.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase()),\n              title: `AI-Enable ${service.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}`,\n              description: `Implement AI tools to transform your ${service.replace(/_/g, ' ')} service, improving efficiency and output quality.`,\n              difficulty: (data === null || data === void 0 ? void 0 : data.score) > 70 ? 'high' : 'medium',\n              time: `Save ${Math.round((data === null || data === void 0 ? void 0 : data.score) / 10)} hours/week`,\n              impact: 'Significant productivity gain'\n            };\n          }),\n          // Add strategic opportunities\n          strategic: [{\n            title: \"AI-First Service Revolution\",\n            description: \"Redesign all services with AI at the core. Not 'AI-enhanced' but 'AI-native'. Deliver 10x value at premium prices.\",\n            timeline: \"6-month transformation\",\n            impact: \"Market leadership position\",\n            complexity: \"high\"\n          }, {\n            title: \"Productize Your Expertise\",\n            description: \"Transform your expertise into AI-powered tools. Package and sell your process as a SaaS offering.\",\n            timeline: \"9-month project\",\n            impact: \"Recurring revenue stream\",\n            complexity: \"high\"\n          }],\n          // Valuation-enhancing opportunities\n          valuationImpact: [{\n            action: \"Improve revenue predictability\",\n            impact: \"+0.5-1.0x multiple\",\n            howTo: \"Convert to 40%+ recurring revenue\"\n          }, {\n            action: \"Reduce client concentration\",\n            impact: \"+0.5x multiple\",\n            howTo: \"No client over 20% of revenue\"\n          }, {\n            action: \"Transform vulnerable services\",\n            impact: \"+0.5-1.0x multiple\",\n            howTo: \"AI-enable high-vulnerability services\"\n          }]\n        },\n        // Roadmap section\n        roadmap: {\n          overview: {\n            title: 'Your AI Transformation Journey',\n            approach: 'A phased approach to transform your agency operations'\n          },\n          phases: [{\n            title: 'Phase 1: Foundation',\n            duration: '0-3 months',\n            actions: priorities.slice(0, 2).flatMap(p => p.actions || ['Assess current capabilities', 'Define transformation goals'])\n          }, {\n            title: 'Phase 2: Implementation',\n            duration: '3-6 months',\n            actions: priorities.slice(1, 3).flatMap(p => p.actions || ['Implement pilot projects', 'Develop staff skills'])\n          }, {\n            title: 'Phase 3: Optimization',\n            duration: '6-12 months',\n            actions: ['Scale successful implementations', 'Optimize for maximum efficiency']\n          }]\n        },\n        // Impact/valuation section\n        impact: {\n          title: 'Valuation Impact',\n          subtitle: 'How AI transformation affects your agency value',\n          current: {\n            multiple: `${(2 + overallScore / 100 * 2).toFixed(1)}x`,\n            category: 'Current valuation multiple'\n          },\n          potential: {\n            multiple: `${(3 + overallScore / 100 * 3).toFixed(1)}x`,\n            increase: '+1.5x',\n            achievableIn: '12-18 months'\n          },\n          drivers: [{\n            driver: 'Operational Efficiency',\n            currentImpact: 'Medium',\n            potentialImpact: 'High',\n            action: `Implement ${((_priorities$ = priorities[0]) === null || _priorities$ === void 0 ? void 0 : _priorities$.area) || 'AI tools'}`\n          }, {\n            driver: 'Revenue Predictability',\n            currentImpact: 'Low',\n            potentialImpact: 'High',\n            action: 'Automate client retention processes'\n          }, {\n            driver: 'Margin Improvement',\n            currentImpact: 'Medium',\n            potentialImpact: 'High',\n            action: `${efficiencyPotential.costSavings}`\n          }]\n        },\n        // Next steps section\n        nextSteps: {\n          options: [{\n            title: 'QuickMap Strategy Session',\n            price: 'Free',\n            description: '45-minute consultation to review your results and identify immediate opportunities',\n            idealFor: 'Understanding your next steps and quick wins'\n          }, {\n            title: 'AI Transformation Roadmap',\n            price: '$3,500',\n            description: 'Comprehensive roadmap development with implementation plan and ROI analysis',\n            idealFor: 'Agencies ready to accelerate their AI adoption'\n          }],\n          testimonial: {\n            quote: 'The assessment helped us identify our biggest AI opportunities and prioritize our transformation efforts. We\\'ve already seen a 30% increase in efficiency.',\n            author: 'Sarah Johnson',\n            role: 'CEO, Creative Digital Partners'\n          }\n        },\n        // Include the raw data for reference/debugging\n        _rawData: rawResults\n      };\n      console.log('Adapted results structure:', {\n        hasExecutive: !!adaptedResults.executive,\n        hasReadiness: !!adaptedResults.readiness,\n        hasOpportunities: !!adaptedResults.opportunities,\n        hasRoadmap: !!adaptedResults.roadmap,\n        hasImpact: !!adaptedResults.impact,\n        hasNextSteps: !!adaptedResults.nextSteps\n      });\n      return adaptedResults;\n    }\n\n    // For inhouse-marketing assessment\n    else if (assessmentType === 'inhouse-marketing') {\n      var _topActivities$;\n      console.log('Processing inhouse-marketing assessment data', rawResults);\n\n      // Extract key data from raw results\n      const overallScore = rawResults.overall || 0;\n      const dimensionScores = rawResults.dimensions || {};\n      const categoryScores = rawResults.categoryScores || {};\n      const activityScores = rawResults.activityScores || {};\n      const priorities = (rawResults.priorities || []).slice(0, 3);\n      const insights = (rawResults.insights || []).sort((a, b) => (b.weight || 0) - (a.weight || 0));\n      const companySize = rawResults.companySize || 'small';\n      const selectedActivities = rawResults.selectedActivities || [];\n      const sector = rawResults.sector || 'other';\n      const readinessLevel = rawResults.readinessLevel || {\n        level: overallScore < 40 ? 'critical' : overallScore < 55 ? 'low' : overallScore < 75 ? 'medium' : 'high',\n        label: overallScore < 40 ? 'Urgent Action Needed' : overallScore < 55 ? 'Early Stage' : overallScore < 75 ? 'Building Capability' : 'Transformation Ready',\n        description: overallScore < 40 ? 'Significant gap to close quickly' : overallScore < 55 ? 'Starting the journey with quick wins' : overallScore < 75 ? 'Good foundation with room for growth' : 'Your team is ready to accelerate AI adoption'\n      };\n      const marketPosition = rawResults.marketPosition || {\n        percentile: Math.round(overallScore * 0.9),\n        trend: overallScore < 50 ? 'lagging' : 'leading'\n      };\n      const savingsPotential = rawResults.savingsPotential || {\n        hours: Math.round(overallScore / 5),\n        cost: `$${Math.round(overallScore * 100 / 10)}k`,\n        percentage: Math.round(overallScore / 2)\n      };\n\n      // Sort activities by their score to prioritize recommendations\n      const sortedActivities = Object.entries(activityScores || {}).sort(([, a], [, b]) => {\n        return (b.automationPotential || 0) - (a.automationPotential || 0);\n      });\n\n      // Generate human readiness description based on scores\n      const humanReadinessScore = dimensionScores.humanReadiness || 0;\n      const humanReadinessDesc = humanReadinessScore < 40 ? 'Your team needs AI champions and leadership support' : humanReadinessScore < 60 ? 'You have some team members ready to adopt AI but need more structure' : 'Your team has strong foundations for AI adoption';\n\n      // Generate technical readiness description\n      const techReadinessScore = dimensionScores.technicalReadiness || 0;\n      const techReadinessDesc = techReadinessScore < 40 ? 'Your tech stack needs updating to support AI integration' : techReadinessScore < 60 ? 'You have basic technical capabilities but room for improvement' : 'Your technical foundation is strong for AI adoption';\n\n      // Company size specific messaging\n      const sizeContext = {\n        solo: {\n          focus: 'time savings and quick wins',\n          advantage: 'flexibility and agility',\n          challenge: 'limited resources and bandwidth'\n        },\n        small: {\n          focus: 'team collaboration and efficiency',\n          advantage: 'nimble decision-making',\n          challenge: 'balancing multiple priorities'\n        },\n        medium: {\n          focus: 'scalability and competitive advantage',\n          advantage: 'established processes',\n          challenge: 'potential organizational resistance'\n        }\n      }[companySize] || sizeContext.small;\n\n      // Select top 3 activities for quick wins based on impact and team readiness\n      const topActivities = sortedActivities.slice(0, 3).map(([id, data]) => {\n        // Get service details from the id\n        const serviceName = id.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n        return {\n          id: id,\n          name: serviceName,\n          automationPotential: data.automationPotential || 0,\n          timeSavings: data.timeSavings || 0,\n          quickWinPotential: data.quickWinPotential || 0\n        };\n      });\n\n      // Generate detailed executive summary\n      const criticalInsight = insights.length > 0 ? insights[0].description || \"Teams that systematically adopt AI tools save 15+ hours per week per marketer\" : \"Teams that systematically adopt AI tools save 15+ hours per week per marketer\";\n\n      // Create comprehensive results object\n      return {\n        executiveSummary: {\n          headline: `Your ${companySize === 'solo' ? 'Marketing Operation' : 'Marketing Team'} is ${readinessLevel.label}`,\n          marketContext: `You're ahead of ${marketPosition.percentile}% of similar ${companySize} marketing teams in AI readiness`,\n          criticalInsight: criticalInsight,\n          bottomLine: `With a readiness score of ${overallScore}, your team has ${overallScore < 40 ? 'significant' : overallScore < 70 ? 'moderate' : 'excellent'} potential to leverage AI tools for increased productivity and impact`\n        },\n        marketPosition: {\n          quartile: overallScore < 25 ? \"Bottom Quartile\" : overallScore < 50 ? \"Third Quartile\" : overallScore < 75 ? \"Second Quartile\" : \"Top Quartile\",\n          message: readinessLevel.label,\n          implication: `You're ${marketPosition.trend === 'lagging' ? 'likely to face increasing pressure to deliver more with the same resources' : 'positioned to increase output while reducing workload'}`,\n          competitorActions: `Teams with similar profiles are ${marketPosition.trend === 'lagging' ? 'increasingly using AI to automate routine tasks' : 'expanding their service offerings while reducing costs'}`,\n          timeToAct: readinessLevel.level === 'critical' ? \"Urgent - start this week\" : readinessLevel.level === 'low' ? \"Important - begin this month\" : \"Strategic - implement over quarter\"\n        },\n        quickWins: topActivities.map((activity, index) => {\n          // Generate appropriate actions based on activity type\n          const actions = {\n            content_marketing: {\n              title: \"AI-Powered Content Creation\",\n              why: \"Content creation is the easiest area to achieve immediate time savings\",\n              how: \"Use Claude or ChatGPT to draft content, then edit for brand voice\",\n              specificAction: \"Select one upcoming content piece and create it with AI assistance\",\n              expectedResult: \"40-60% time reduction\",\n              marketContext: \"78% of marketing teams start their AI journey with content\",\n              investment: \"Free tools available\"\n            },\n            social_media: {\n              title: \"Automate Social Media Content\",\n              why: \"Repurposing content is time-intensive but necessary\",\n              how: \"Use AI to transform blog posts into multiple social posts\",\n              specificAction: \"Take your latest article and create 10 social posts with AI\",\n              expectedResult: \"10x output in same time period\",\n              marketContext: \"Teams using AI for social see 3x higher posting frequency\",\n              investment: \"Free to $20/month\"\n            },\n            analytics_data: {\n              title: \"Streamline Reporting & Insights\",\n              why: \"Reporting is time-consuming but critical for proving value\",\n              how: \"Automate data collection and insights generation\",\n              specificAction: \"Set up an automated dashboard pulling from your marketing platforms\",\n              expectedResult: \"2-4 hours saved weekly\",\n              marketContext: \"Automated reporting correlates with 2x higher perceived value\",\n              investment: \"$50-100/month\"\n            },\n            email_marketing: {\n              title: \"AI-Enhanced Email Campaigns\",\n              why: \"Email optimization requires constant testing and iteration\",\n              how: \"Use AI for subject line generation and content personalization\",\n              specificAction: \"Generate 10 subject line variants with AI for your next campaign\",\n              expectedResult: \"20-40% open rate improvement\",\n              marketContext: \"AI-optimized emails see 30% higher engagement rates\",\n              investment: \"Free to $30/month\"\n            },\n            creative_design: {\n              title: \"Automate Design Tasks\",\n              why: \"Design bottlenecks often slow down marketing delivery\",\n              how: \"Use AI design tools for initial concepts and variations\",\n              specificAction: \"Test AI-generated images for your next social campaign\",\n              expectedResult: \"3-5x more design options in half the time\",\n              marketContext: \"Teams using AI for design report 60% faster production\",\n              investment: \"$10-50/month\"\n            },\n            paid_advertising: {\n              title: \"AI-Optimized Ad Copy\",\n              why: \"Ad creative testing is time-intensive but essential\",\n              how: \"Use AI to generate multiple ad variations based on top performers\",\n              specificAction: \"Create 20 headline variations for your current campaign\",\n              expectedResult: \"30% lower cost-per-acquisition\",\n              marketContext: \"AI ad optimization improves ROAS by average of 27%\",\n              investment: \"Mostly free tools to start\"\n            },\n            seo_sem: {\n              title: \"AI-Powered SEO Enhancement\",\n              why: \"SEO optimization requires constant content updates\",\n              how: \"Use AI for keyword research and content optimization\",\n              specificAction: \"Optimize your top 5 performing pages with AI recommendations\",\n              expectedResult: \"20-30% organic traffic increase\",\n              marketContext: \"AI-optimized content ranks 40% faster on average\",\n              investment: \"$20-75/month\"\n            },\n            marketing_automation: {\n              title: \"Enhanced Marketing Automation\",\n              why: \"Workflow optimization can reclaim significant time\",\n              how: \"Use AI to improve your automation triggers and personalization\",\n              specificAction: \"Implement AI-driven segmentation in your next campaign\",\n              expectedResult: \"2x conversion rate improvement\",\n              marketContext: \"Advanced automation correlates with 3x higher ROI\",\n              investment: \"Uses existing automation platform\"\n            }\n          };\n\n          // Return the appropriate action or a generic one if not found\n          return actions[activity.id] || {\n            title: `Optimize ${activity.name}`,\n            why: `${activity.name} has high potential for AI enhancement`,\n            how: \"Implement AI tools specific to this marketing function\",\n            specificAction: `Identify the most time-consuming ${activity.name} task and test AI assistance`,\n            expectedResult: `${Math.round(activity.timeSavings)}% time savings`,\n            marketContext: `Teams are rapidly adopting AI for ${activity.name}`,\n            investment: \"Variable based on tools selected\"\n          };\n        }),\n        strategicRoadmap: {\n          overview: `Your ${Math.round(overallScore / 10) * 10}-Day AI Implementation Plan`,\n          phase1: {\n            name: \"Phase 1: Experimentation & Quick Wins\",\n            focus: `Focus on ${sizeContext.focus}`,\n            actions: [...(categoryScores.champions < 50 ? [\"Identify your team's AI champion\"] : []), `Test AI with ${((_topActivities$ = topActivities[0]) === null || _topActivities$ === void 0 ? void 0 : _topActivities$.name) || 'your highest priority marketing activity'}`, \"Document time savings and quality impact\", \"Create simple templates for common AI prompts\"],\n            expectedOutcome: `Proof of concept showing ${Math.round(savingsPotential.hours / 2)}-${savingsPotential.hours} hours saved weekly`\n          },\n          phase2: {\n            name: \"Phase 2: Process Development\",\n            focus: \"Create scalable workflows and team training\",\n            actions: [...topActivities.slice(0, 2).map(a => `Develop AI workflow for ${a.name}`), ...(categoryScores.resources < 50 ? [\"Train team on basic AI prompting techniques\"] : []), \"Implement measurement system for tracking time savings\"],\n            expectedOutcome: \"Team-wide adoption with documented processes\"\n          },\n          phase3: {\n            name: \"Phase 3: Integration & Expansion\",\n            focus: \"Scale successful pilots across all activities\",\n            actions: [`Integrate AI tools with your existing ${marketPosition.trend === 'leading' ? 'tech stack' : 'workflow'}`, ...(topActivities.length > 2 ? [`Expand AI to ${topActivities[2].name}`] : []), \"Develop optimization feedback loops\", \"Document ROI and share success stories\"],\n            expectedOutcome: `${savingsPotential.hours}+ hours saved per team member weekly`\n          },\n          investmentGuide: `Initial investment: Free trials → ${companySize === 'solo' ? '$20-50' : companySize === 'small' ? '$50-100' : '$100-200'}/month per marketer`\n        },\n        expectedOutcomes: [\n        // Dynamically generate outcomes based on selected activities\n        ...topActivities.map(activity => {\n          const outcomes = {\n            content_marketing: {\n              area: \"Content Production\",\n              keyMetric: \"Content pieces per marketer\",\n              baseline: \"2-3 per week\",\n              target: \"8-10 per week\",\n              timeframe: \"90 days\"\n            },\n            social_media: {\n              area: \"Social Media Engagement\",\n              keyMetric: \"Posts and engagement rate\",\n              baseline: \"3-5 posts weekly, 1-2% engagement\",\n              target: \"10-15 posts weekly, 2-4% engagement\",\n              timeframe: \"60 days\"\n            },\n            analytics_data: {\n              area: \"Reporting Efficiency\",\n              keyMetric: \"Hours spent on reporting\",\n              baseline: \"5-8 hours weekly\",\n              target: \"1-2 hours weekly\",\n              timeframe: \"30 days\"\n            },\n            email_marketing: {\n              area: \"Email Performance\",\n              keyMetric: \"Open and click-through rates\",\n              baseline: \"Industry average\",\n              target: \"25-40% above industry average\",\n              timeframe: \"45 days\"\n            },\n            creative_design: {\n              area: \"Design Production\",\n              keyMetric: \"Design assets per week\",\n              baseline: \"5-10 assets\",\n              target: \"20-30 assets\",\n              timeframe: \"60 days\"\n            },\n            paid_advertising: {\n              area: \"Ad Performance\",\n              keyMetric: \"Cost per acquisition\",\n              baseline: \"Current CPA\",\n              target: \"25-30% reduction in CPA\",\n              timeframe: \"45 days\"\n            },\n            seo_sem: {\n              area: \"Organic Traffic\",\n              keyMetric: \"Search visibility and traffic\",\n              baseline: \"Current monthly visitors\",\n              target: \"30-50% increase\",\n              timeframe: \"90 days\"\n            },\n            marketing_automation: {\n              area: \"Lead Nurturing\",\n              keyMetric: \"Conversion rate\",\n              baseline: \"Current pipeline conversion\",\n              target: \"2x higher conversion rate\",\n              timeframe: \"60 days\"\n            }\n          };\n          return outcomes[activity.id] || {\n            area: activity.name,\n            keyMetric: \"Productivity and output\",\n            baseline: \"Current level\",\n            target: `${Math.round(activity.timeSavings)}% time savings`,\n            timeframe: \"60-90 days\"\n          };\n        }),\n        // Always include team satisfaction\n        {\n          area: \"Team Satisfaction\",\n          keyMetric: \"Percentage of time on strategic work\",\n          baseline: \"20-30%\",\n          target: \"50-60%\",\n          timeframe: \"90 days\"\n        }],\n        nextSteps: {\n          primaryCTA: {\n            title: readinessLevel.level === 'critical' || readinessLevel.level === 'low' ? \"Book Your Free AI Strategy Session\" : \"Schedule Your AI Implementation Workshop\",\n            description: readinessLevel.level === 'critical' || readinessLevel.level === 'low' ? \"45-minute consultation to review your results and create your custom AI adoption roadmap\" : \"90-minute workshop to fast-track your AI implementation with expert guidance\",\n            link: \"#book-consultation\",\n            buttonText: readinessLevel.level === 'critical' || readinessLevel.level === 'low' ? \"Book My Strategy Session\" : \"Schedule Implementation Workshop\"\n          },\n          alternatives: [{\n            text: \"Download Full Report\",\n            link: \"#download\",\n            description: \"Get a PDF of your complete assessment results\"\n          }, {\n            text: companySize === 'solo' ? \"Join Solo Marketer Community\" : \"Join Upcoming Webinar\",\n            link: \"#webinar\",\n            description: companySize === 'solo' ? \"Connect with other solo marketers adopting AI\" : \"Attend our 'AI for Marketing Teams' workshop\"\n          }, {\n            text: \"Access AI Templates\",\n            link: \"#templates\",\n            description: \"Get our library of proven AI prompts for marketing\"\n          }]\n        },\n        _rawData: rawResults\n      };\n    }\n\n    // For inhouse-marketing assessment type\n    if (assessmentType === 'inhouse-marketing') {\n      // Extract key data points from raw results\n      const overallScore = rawResults.overall || 0;\n      const dimensionScores = rawResults.dimensions || {};\n      const categoryScores = rawResults.categoryScores || {};\n      const activityScores = rawResults.activityScores || {};\n      const insights = rawResults.insights || [];\n      const priorities = rawResults.priorities || [];\n      const readinessLevel = rawResults.readinessLevel || {};\n      const marketPosition = rawResults.marketPosition || {};\n      const savingsPotential = rawResults.savingsPotential || {};\n      const companySize = rawResults.companySize || 'small';\n      const selectedActivities = rawResults.selectedActivities || [];\n      const sector = rawResults.sector || 'other';\n\n      // Get all response data using getResponse to ensure we have the complete context\n      const allResponses = {};\n      try {\n        // Get all saved question responses\n        const questionTypes = ['qualifying', 'service_selection', 'dynamic_questions'];\n        questionTypes.forEach(type => {\n          const savedData = getResponse(type);\n          if (savedData) {\n            Object.assign(allResponses, savedData);\n          }\n        });\n        console.log('Retrieved all responses for context:', allResponses);\n      } catch (error) {\n        console.error('Error retrieving responses:', error);\n      }\n\n      // Create a comprehensive results object similar to agency-vulnerability format\n      return {\n        // Assessment metadata\n        assessmentType: 'inhouse-marketing',\n        timestamp: rawResults.timestamp || new Date().toISOString(),\n        // Individual question responses\n        responses: allResponses,\n        // Context data\n        context: {\n          companySize: companySize,\n          sector: sector,\n          selectedActivities: selectedActivities\n        },\n        // Results data\n        results: {\n          overall: overallScore,\n          dimensions: dimensionScores,\n          categoryScores: categoryScores,\n          activityScores: activityScores,\n          insights: insights,\n          priorities: priorities,\n          readinessLevel: readinessLevel,\n          marketPosition: marketPosition,\n          savingsPotential: savingsPotential\n        },\n        // Engine data for completeness\n        engineData: {\n          allResponses: allResponses,\n          context: {\n            companySize: companySize,\n            sector: sector,\n            selectedActivities: selectedActivities\n          },\n          progressData: {\n            current: 5,\n            total: 6,\n            percentage: 80,\n            stageName: 'results'\n          },\n          completionStatus: true\n        },\n        // Include raw data for debugging\n        _rawData: rawResults\n      };\n    }\n\n    // For other assessment types, return the raw results\n    return rawResults;\n  };\n  const generateResults = async () => {\n    try {\n      setIsLoading(true);\n      console.log('Starting results calculation for assessment type:', assessmentType);\n\n      // Calculate scores and generate recommendations\n      console.log('Calling calculateResults...');\n      const calculatedResults = await calculateResults();\n      console.log('Raw calculation results:', JSON.stringify(calculatedResults, null, 2));\n      if (!calculatedResults) {\n        throw new Error('Calculation returned no results');\n      }\n\n      // Transform the results format to match what ResultsView expects\n      const adaptedResults = adaptResultsFormat(calculatedResults);\n      console.log('Adapted results for view:', adaptedResults);\n      if (!adaptedResults) {\n        throw new Error('Failed to adapt results format');\n      }\n      setResults(adaptedResults);\n      setIsLoading(false);\n      console.log('Results dashboard data set successfully');\n    } catch (err) {\n      console.error('Error generating results:', err);\n      console.error('Error stack:', err.stack);\n      setError(`Failed to generate results: ${err.message}. Check console for details.`);\n      setIsLoading(false);\n    }\n  };\n  const handleBookConsultation = () => {\n    var _results$scores3;\n    // Track conversion\n    if (window.gtag) {\n      var _results$scores, _results$scores2, _results$scores2$cate, _results$scores2$cate2;\n      window.gtag('event', 'consultation_click', {\n        assessment_type: assessmentType,\n        score: (results === null || results === void 0 ? void 0 : (_results$scores = results.scores) === null || _results$scores === void 0 ? void 0 : _results$scores.overall) || 0,\n        category: (results === null || results === void 0 ? void 0 : (_results$scores2 = results.scores) === null || _results$scores2 === void 0 ? void 0 : (_results$scores2$cate = _results$scores2.categories) === null || _results$scores2$cate === void 0 ? void 0 : (_results$scores2$cate2 = _results$scores2$cate.technology) === null || _results$scores2$cate2 === void 0 ? void 0 : _results$scores2$cate2.score) > 50 ? 'high' : 'low'\n      });\n    }\n\n    // Navigate to booking page with context\n    const bookingUrl = `https://obsolete.com/quickmap?assessment=${assessmentType}&score=${(results === null || results === void 0 ? void 0 : (_results$scores3 = results.scores) === null || _results$scores3 === void 0 ? void 0 : _results$scores3.overall) || 0}`;\n    window.open(bookingUrl, '_blank');\n  };\n  const handleDownloadReport = async () => {\n    // Track download\n    if (window.gtag) {\n      var _results$scores4;\n      window.gtag('event', 'report_download', {\n        assessment_type: assessmentType,\n        score: (results === null || results === void 0 ? void 0 : (_results$scores4 = results.scores) === null || _results$scores4 === void 0 ? void 0 : _results$scores4.overall) || 0\n      });\n    }\n\n    // Generate and download PDF\n    // This would typically call a cloud function or API\n    alert('Report download functionality would be implemented here');\n  };\n\n  // Function to download complete assessment data as JSON\n  const handleDownloadRawData = async () => {\n    try {\n      console.log('Preparing comprehensive assessment data download...');\n\n      // Retrieve comprehensive data from localStorage first\n      const savedProgress = localStorage.getItem('assessment_progress');\n      let savedData = savedProgress ? JSON.parse(savedProgress) : {};\n\n      // Create a complete dataset including all available data\n      const comprehensiveData = {\n        // Assessment metadata\n        assessmentType,\n        timestamp: new Date().toISOString(),\n        // Individual question responses\n        responses: savedData.responses || {},\n        // Context data (sector, services, etc.)\n        context: savedData.context || {},\n        // Results data if available\n        results: results || {},\n        // Get full state using AssessmentEngine\n        engineData: await getFullAssessmentData()\n      };\n      console.log('Comprehensive data prepared:', comprehensiveData);\n\n      // Create a blob with the data\n      const dataToDownload = JSON.stringify(comprehensiveData, null, 2);\n      const blob = new Blob([dataToDownload], {\n        type: 'application/json'\n      });\n\n      // Create a URL for the blob\n      const url = URL.createObjectURL(blob);\n\n      // Create a temporary anchor element to trigger download\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `complete-assessment-data-${assessmentType}-${new Date().toISOString().slice(0, 10)}.json`;\n      document.body.appendChild(a);\n      a.click();\n\n      // Clean up\n      setTimeout(() => {\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n      }, 100);\n      console.log('Downloaded complete assessment data');\n    } catch (error) {\n      console.error('Error downloading comprehensive data:', error);\n      alert('Failed to download assessment data: ' + error.message);\n    }\n  };\n\n  // Helper function to get all data from the assessment engine\n  const getFullAssessmentData = async () => {\n    try {\n      // Create a temporary engine instance to access its methods\n      const engine = new AssessmentEngine(assessmentType);\n      await engine.initialize();\n\n      // Load any saved progress\n      await engine.loadProgress();\n      return {\n        allResponses: engine.getAllResponses(),\n        context: engine.getContext(),\n        progressData: engine.getProgress(),\n        completionStatus: engine.isComplete()\n      };\n    } catch (error) {\n      console.error('Error retrieving full assessment data:', error);\n      return {\n        error: error.message\n      };\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.loadingContainer,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.loadingAnimation,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.spinner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 864,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Analyzing your responses...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Generating personalized recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 866,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 863,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 862,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.errorContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Something went wrong\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 876,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: generateResults,\n        className: styles.primaryButton,\n        children: \"Try Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 877,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 874,\n      columnNumber: 7\n    }, this);\n  }\n  if (!results) return null;\n\n  // Use custom ResultsView if provided, otherwise use default\n  if (ResultsView) {\n    console.log('ResultsDashboard: Using custom ResultsView component:', ResultsView.name || 'Anonymous Component');\n    console.log('ResultsDashboard: Passing results to ResultsView:', JSON.stringify(results, null, 2));\n\n    // Verify all required sections exist in adapted results before rendering\n    if (assessmentType === 'agency-vulnerability') {\n      const {\n        executive,\n        readiness,\n        opportunities,\n        roadmap,\n        impact,\n        nextSteps\n      } = results || {};\n      console.log('Verifying agency-vulnerability required sections:', {\n        hasExecutive: !!executive,\n        hasReadiness: !!readiness,\n        hasOpportunities: !!opportunities,\n        hasRoadmap: !!roadmap,\n        hasImpact: !!impact,\n        hasNextSteps: !!nextSteps\n      });\n\n      // Additional validation of nested structures\n      if (executive) {\n        var _executive$keyMetrics, _executive$keyMetrics2;\n        console.log('Executive section validation:', {\n          hasHeadline: !!executive.headline,\n          hasSubheadline: !!executive.subheadline,\n          hasKeyMetrics: !!executive.keyMetrics,\n          readinessScoreValue: (_executive$keyMetrics = executive.keyMetrics) === null || _executive$keyMetrics === void 0 ? void 0 : (_executive$keyMetrics2 = _executive$keyMetrics.readinessScore) === null || _executive$keyMetrics2 === void 0 ? void 0 : _executive$keyMetrics2.value\n        });\n      }\n    }\n    return /*#__PURE__*/_jsxDEV(ResultsView, {\n      results: results,\n      onBookConsultation: handleBookConsultation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 914,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Default results view\n  // Extract scores, report, and recommendations, ensuring we handle any missing properties\n  const {\n    scores = {},\n    report = {},\n    insights = []\n  } = results || {};\n  const recommendations = (report === null || report === void 0 ? void 0 : report.recommendations) || insights || [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.resultsContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.resultsHeader,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.scoreSection,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.scoreCircle,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"200\",\n            height: \"200\",\n            viewBox: \"0 0 200 200\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"100\",\n              cy: \"100\",\n              r: \"90\",\n              stroke: \"rgba(255,255,255,0.1)\",\n              strokeWidth: \"12\",\n              fill: \"none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"100\",\n              cy: \"100\",\n              r: \"90\",\n              stroke: \"#ffff66\",\n              strokeWidth: \"12\",\n              fill: \"none\",\n              strokeDasharray: `${2 * Math.PI * 90}`,\n              strokeDashoffset: `${2 * Math.PI * 90 * (1 - (scores.overall || 0) / 100)}`,\n              transform: \"rotate(-90 100 100)\",\n              style: {\n                transition: 'stroke-dashoffset 1.5s ease'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 937,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.scoreValue,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.scoreNumber,\n              children: scores.overall || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 951,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.scoreLabel,\n              children: \"Overall Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 952,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 950,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 927,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 926,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.headlineSection,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: (report === null || report === void 0 ? void 0 : (_report$executive = report.executive) === null || _report$executive === void 0 ? void 0 : _report$executive.headline) || 'Your Assessment Results'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 958,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.subheadline,\n          children: (report === null || report === void 0 ? void 0 : (_report$executive2 = report.executive) === null || _report$executive2 === void 0 ? void 0 : _report$executive2.subheadline) || 'Detailed analysis and recommendations below'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 959,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.keyMetrics,\n          children: (report === null || report === void 0 ? void 0 : (_report$executive3 = report.executive) === null || _report$executive3 === void 0 ? void 0 : _report$executive3.keyMetrics) && Object.entries(report.executive.keyMetrics).map(([key, metric]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.metricCard,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.metricValue,\n              children: metric.value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 966,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.metricLabel,\n              children: metric.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 967,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.metricInterpretation,\n              children: metric.interpretation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 968,\n              columnNumber: 17\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 965,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 963,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 957,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 925,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.sectionNav,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `${styles.navButton} ${activeSection === 'summary' ? styles.active : ''}`,\n        onClick: () => setActiveSection('summary'),\n        children: \"Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 977,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `${styles.navButton} ${activeSection === 'readiness' ? styles.active : ''}`,\n        onClick: () => setActiveSection('readiness'),\n        children: \"Readiness\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 983,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `${styles.navButton} ${activeSection === 'opportunities' ? styles.active : ''}`,\n        onClick: () => setActiveSection('opportunities'),\n        children: \"Opportunities\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 989,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `${styles.navButton} ${activeSection === 'roadmap' ? styles.active : ''}`,\n        onClick: () => setActiveSection('roadmap'),\n        children: \"Roadmap\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 995,\n        columnNumber: 9\n      }, this), scores.categories && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `${styles.navButton} ${activeSection === 'valuation' ? styles.active : ''}`,\n        onClick: () => setActiveSection('valuation'),\n        children: \"Valuation Impact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1002,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 976,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.sectionContent,\n      children: [activeSection === 'summary' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.summarySection,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.narrative,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: report === null || report === void 0 ? void 0 : (_report$executive4 = report.executive) === null || _report$executive4 === void 0 ? void 0 : _report$executive4.narrative\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1016,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1015,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.snapshotGrid,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.snapshotCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Strengths\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1021,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: report === null || report === void 0 ? void 0 : (_report$executive5 = report.executive) === null || _report$executive5 === void 0 ? void 0 : (_report$executive5$sn = _report$executive5.snapshot) === null || _report$executive5$sn === void 0 ? void 0 : (_report$executive5$sn2 = _report$executive5$sn.strengths) === null || _report$executive5$sn2 === void 0 ? void 0 : _report$executive5$sn2.map((strength, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: strength\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1024,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1022,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1020,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.snapshotCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Gaps\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1030,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: report === null || report === void 0 ? void 0 : (_report$executive6 = report.executive) === null || _report$executive6 === void 0 ? void 0 : (_report$executive6$sn = _report$executive6.snapshot) === null || _report$executive6$sn === void 0 ? void 0 : (_report$executive6$sn2 = _report$executive6$sn.gaps) === null || _report$executive6$sn2 === void 0 ? void 0 : _report$executive6$sn2.map((gap, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: gap\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1031,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1029,\n            columnNumber: 15\n          }, this), (report === null || report === void 0 ? void 0 : (_report$executive7 = report.executive) === null || _report$executive7 === void 0 ? void 0 : (_report$executive7$sn = _report$executive7.snapshot) === null || _report$executive7$sn === void 0 ? void 0 : _report$executive7$sn.quickestWin) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.snapshotCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Quickest Win\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1040,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: report.executive.snapshot.quickestWin.action\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1041,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Impact: \", report.executive.snapshot.quickestWin.impact]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1042,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Effort: \", report.executive.snapshot.quickestWin.effort]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1043,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1039,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1019,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1014,\n        columnNumber: 11\n      }, this), activeSection === 'readiness' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.readinessSection,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.dimensionsGrid,\n          children: report === null || report === void 0 ? void 0 : (_report$readiness = report.readiness) === null || _report$readiness === void 0 ? void 0 : (_report$readiness$dim = _report$readiness.dimensions) === null || _report$readiness$dim === void 0 ? void 0 : _report$readiness$dim.map((dimension, i) => {\n            var _dimension$insights;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.dimensionCard,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.dimensionHeader,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.dimensionIcon,\n                  children: dimension.icon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1056,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: dimension.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1057,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1055,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.dimensionScore,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.scoreBar,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.scoreBarFill,\n                    style: {\n                      width: `${dimension.score}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1061,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1060,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [dimension.score, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1066,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1059,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: dimension.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1068,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: styles.insights,\n                children: (_dimension$insights = dimension.insights) === null || _dimension$insights === void 0 ? void 0 : _dimension$insights.map((insight, j) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: insight\n                }, j, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1071,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1069,\n                columnNumber: 19\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1054,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1052,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1051,\n        columnNumber: 11\n      }, this), activeSection === 'opportunities' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.opportunitiesSection,\n        children: (recommendations === null || recommendations === void 0 ? void 0 : recommendations.immediate) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.opportunityGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: recommendations.immediate.title || \"Quick Wins\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1084,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: recommendations.immediate.subtitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1085,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.opportunitiesGrid,\n            children: (_recommendations$imme = recommendations.immediate.items) === null || _recommendations$imme === void 0 ? void 0 : _recommendations$imme.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.opportunityCard,\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: item.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1089,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: item.description || item.why\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1090,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.opportunityMeta,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.effort,\n                  children: [\"Effort: \", item.effort]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1092,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.impact,\n                  children: [\"Impact: \", item.impact]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1093,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1091,\n                columnNumber: 23\n              }, this), item.specificAction && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.actionBox,\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Action:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1097,\n                  columnNumber: 27\n                }, this), \" \", item.specificAction]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1096,\n                columnNumber: 25\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1088,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1086,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1083,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1081,\n        columnNumber: 11\n      }, this), activeSection === 'roadmap' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.roadmapSection,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your Transformation Journey\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.phases,\n          children: report === null || report === void 0 ? void 0 : (_report$roadmap = report.roadmap) === null || _report$roadmap === void 0 ? void 0 : (_report$roadmap$phase = _report$roadmap.phases) === null || _report$roadmap$phase === void 0 ? void 0 : _report$roadmap$phase.map((phase, i) => {\n            var _phase$milestones;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.phaseCard,\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: phase.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1114,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: styles.duration,\n                children: phase.duration\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1115,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: styles.focus,\n                children: phase.focus\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1116,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Milestones:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1117,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: (_phase$milestones = phase.milestones) === null || _phase$milestones === void 0 ? void 0 : _phase$milestones.map((milestone, j) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: milestone\n                }, j, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1120,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1118,\n                columnNumber: 19\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1113,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1111,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1109,\n        columnNumber: 11\n      }, this), activeSection === 'valuation' && scores.categories && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.valuationSection,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: report === null || report === void 0 ? void 0 : (_report$valuation = report.valuation) === null || _report$valuation === void 0 ? void 0 : _report$valuation.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: report === null || report === void 0 ? void 0 : (_report$valuation2 = report.valuation) === null || _report$valuation2 === void 0 ? void 0 : _report$valuation2.subtitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1132,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.valuationGrid,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.currentValuation,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Current Valuation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1136,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.multiple,\n              children: report === null || report === void 0 ? void 0 : (_report$valuation3 = report.valuation) === null || _report$valuation3 === void 0 ? void 0 : (_report$valuation3$cu = _report$valuation3.current) === null || _report$valuation3$cu === void 0 ? void 0 : _report$valuation3$cu.multiple\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1137,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: report === null || report === void 0 ? void 0 : (_report$valuation4 = report.valuation) === null || _report$valuation4 === void 0 ? void 0 : (_report$valuation4$cu = _report$valuation4.current) === null || _report$valuation4$cu === void 0 ? void 0 : _report$valuation4$cu.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1138,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1135,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.potentialValuation,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Potential Valuation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1142,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.multiple,\n              children: report === null || report === void 0 ? void 0 : (_report$valuation5 = report.valuation) === null || _report$valuation5 === void 0 ? void 0 : (_report$valuation5$po = _report$valuation5.potential) === null || _report$valuation5$po === void 0 ? void 0 : _report$valuation5$po.multiple\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1143,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.increase,\n              children: report === null || report === void 0 ? void 0 : (_report$valuation6 = report.valuation) === null || _report$valuation6 === void 0 ? void 0 : (_report$valuation6$po = _report$valuation6.potential) === null || _report$valuation6$po === void 0 ? void 0 : _report$valuation6$po.increase\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1144,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Achievable in \", report === null || report === void 0 ? void 0 : (_report$valuation7 = report.valuation) === null || _report$valuation7 === void 0 ? void 0 : (_report$valuation7$po = _report$valuation7.potential) === null || _report$valuation7$po === void 0 ? void 0 : _report$valuation7$po.achievableIn]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1145,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1141,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.valuationDrivers,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Value Drivers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1150,\n            columnNumber: 15\n          }, this), report === null || report === void 0 ? void 0 : (_report$valuation8 = report.valuation) === null || _report$valuation8 === void 0 ? void 0 : (_report$valuation8$dr = _report$valuation8.drivers) === null || _report$valuation8$dr === void 0 ? void 0 : _report$valuation8$dr.map((driver, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.driverCard,\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: driver.driver\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1153,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Current Impact: \", driver.currentImpact]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1154,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Potential: \", driver.potentialImpact]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1155,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.action,\n              children: driver.action\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1156,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1152,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1149,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1130,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1012,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.ctaSection,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.ctaContent,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: (report === null || report === void 0 ? void 0 : (_report$nextSteps = report.nextSteps) === null || _report$nextSteps === void 0 ? void 0 : (_report$nextSteps$boo = _report$nextSteps.booking) === null || _report$nextSteps$boo === void 0 ? void 0 : _report$nextSteps$boo.headline) || \"Ready to Transform?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: (report === null || report === void 0 ? void 0 : (_report$nextSteps2 = report.nextSteps) === null || _report$nextSteps2 === void 0 ? void 0 : (_report$nextSteps2$bo = _report$nextSteps2.booking) === null || _report$nextSteps2$bo === void 0 ? void 0 : _report$nextSteps2$bo.subheadline) || \"Get your personalized roadmap\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.ctaButtons,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleBookConsultation,\n            className: styles.primaryCTA,\n            children: (report === null || report === void 0 ? void 0 : (_report$nextSteps3 = report.nextSteps) === null || _report$nextSteps3 === void 0 ? void 0 : (_report$nextSteps3$bo = _report$nextSteps3.booking) === null || _report$nextSteps3$bo === void 0 ? void 0 : _report$nextSteps3$bo.buttonText) || \"Book Your QuickMap Session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleDownloadReport,\n            className: styles.secondaryCTA,\n            children: \"Download Full Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleDownloadRawData,\n            className: styles.secondaryCTA,\n            style: {\n              marginTop: '10px',\n              backgroundColor: '#444'\n            },\n            children: \"Download Raw JSON Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1170,\n          columnNumber: 11\n        }, this), (report === null || report === void 0 ? void 0 : (_report$nextSteps4 = report.nextSteps) === null || _report$nextSteps4 === void 0 ? void 0 : _report$nextSteps4.urgency) && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.urgencyMessage,\n          children: report.nextSteps.urgency.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1183,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1166,\n        columnNumber: 9\n      }, this), (report === null || report === void 0 ? void 0 : (_report$nextSteps5 = report.nextSteps) === null || _report$nextSteps5 === void 0 ? void 0 : _report$nextSteps5.testimonial) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.testimonial,\n        children: [/*#__PURE__*/_jsxDEV(\"blockquote\", {\n          children: [\"\\\"\", report.nextSteps.testimonial.quote, \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1189,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"cite\", {\n          children: [\"\\u2014 \", report.nextSteps.testimonial.author, \", \", report.nextSteps.testimonial.role]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1190,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.result,\n          children: report.nextSteps.testimonial.result\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1193,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1188,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1165,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 923,\n    columnNumber: 5\n  }, this);\n};\n_s(ResultsDashboard, \"eQXroWw4ebLKk4ja4RVUtsszLts=\");\n_c = ResultsDashboard;\nexport default ResultsDashboard;\nvar _c;\n$RefreshReg$(_c, \"ResultsDashboard\");","map":{"version":3,"names":["React","useState","useEffect","styles","AssessmentEngine","jsxDEV","_jsxDEV","ResultsDashboard","assessmentType","calculateResults","onRestart","ResultsView","getResponse","getContext","_s","_report$executive","_report$executive2","_report$executive3","_report$executive4","_report$executive5","_report$executive5$sn","_report$executive5$sn2","_report$executive6","_report$executive6$sn","_report$executive6$sn2","_report$executive7","_report$executive7$sn","_report$readiness","_report$readiness$dim","_recommendations$imme","_report$roadmap","_report$roadmap$phase","_report$valuation","_report$valuation2","_report$valuation3","_report$valuation3$cu","_report$valuation4","_report$valuation4$cu","_report$valuation5","_report$valuation5$po","_report$valuation6","_report$valuation6$po","_report$valuation7","_report$valuation7$po","_report$valuation8","_report$valuation8$dr","_report$nextSteps","_report$nextSteps$boo","_report$nextSteps2","_report$nextSteps2$bo","_report$nextSteps3","_report$nextSteps3$bo","_report$nextSteps4","_report$nextSteps5","results","setResults","isLoading","setIsLoading","error","setError","activeSection","setActiveSection","console","log","generateResults","adaptResultsFormat","rawResults","Object","keys","_priorities$","overallScore","overall","dimensionScores","dimensions","insights","priorities","filter","insight","priority","sort","a","b","vulnerabilityMetrics","serviceScores","prioritiesCount","length","serviceScoresCount","marketPosition","position","percentile","Math","round","timeAdvantage","competitiveAdvantage","threatLevel","efficiencyPotential","timeRecovered","average","costSavings","adaptedResults","executive","headline","subheadline","keyMetrics","readinessScore","value","label","interpretation","efficiencyGain","transformationUrgency","urgency","narrative","readiness","entries","map","key","name","charAt","toUpperCase","slice","score","description","serviceReadiness","service","data","replace","l","timeToDisruption","transformationPaths","content_creation","creative_design","digital_marketing","seo_sem","pr_comms","strategy_consulting","opportunities","immediate","title","subtitle","items","area","effort","impact","serviceSpecific","_","serviceKey","toLowerCase","difficulty","time","strategic","timeline","complexity","valuationImpact","action","howTo","roadmap","overview","approach","phases","duration","actions","flatMap","p","current","multiple","toFixed","category","potential","increase","achievableIn","drivers","driver","currentImpact","potentialImpact","nextSteps","options","price","idealFor","testimonial","quote","author","role","_rawData","hasExecutive","hasReadiness","hasOpportunities","hasRoadmap","hasImpact","hasNextSteps","_topActivities$","categoryScores","activityScores","weight","companySize","selectedActivities","sector","readinessLevel","level","trend","savingsPotential","hours","cost","percentage","sortedActivities","automationPotential","humanReadinessScore","humanReadiness","humanReadinessDesc","techReadinessScore","technicalReadiness","techReadinessDesc","sizeContext","solo","focus","advantage","challenge","small","medium","topActivities","id","serviceName","timeSavings","quickWinPotential","criticalInsight","executiveSummary","marketContext","bottomLine","quartile","message","implication","competitorActions","timeToAct","quickWins","activity","index","content_marketing","why","how","specificAction","expectedResult","investment","social_media","analytics_data","email_marketing","paid_advertising","marketing_automation","strategicRoadmap","phase1","champions","expectedOutcome","phase2","resources","phase3","investmentGuide","expectedOutcomes","outcomes","keyMetric","baseline","target","timeframe","primaryCTA","link","buttonText","alternatives","text","allResponses","questionTypes","forEach","type","savedData","assign","timestamp","Date","toISOString","responses","context","engineData","progressData","total","stageName","completionStatus","calculatedResults","JSON","stringify","Error","err","stack","handleBookConsultation","_results$scores3","window","gtag","_results$scores","_results$scores2","_results$scores2$cate","_results$scores2$cate2","assessment_type","scores","categories","technology","bookingUrl","open","handleDownloadReport","_results$scores4","alert","handleDownloadRawData","savedProgress","localStorage","getItem","parse","comprehensiveData","getFullAssessmentData","dataToDownload","blob","Blob","url","URL","createObjectURL","document","createElement","href","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","engine","initialize","loadProgress","getAllResponses","getProgress","isComplete","className","loadingContainer","children","loadingAnimation","spinner","fileName","_jsxFileName","lineNumber","columnNumber","errorContainer","onClick","primaryButton","_executive$keyMetrics","_executive$keyMetrics2","hasHeadline","hasSubheadline","hasKeyMetrics","readinessScoreValue","onBookConsultation","report","recommendations","resultsContainer","resultsHeader","scoreSection","scoreCircle","width","height","viewBox","cx","cy","r","stroke","strokeWidth","fill","strokeDasharray","PI","strokeDashoffset","transform","style","transition","scoreValue","scoreNumber","scoreLabel","headlineSection","metric","metricCard","metricValue","metricLabel","metricInterpretation","sectionNav","navButton","active","sectionContent","summarySection","snapshotGrid","snapshotCard","snapshot","strengths","strength","i","gaps","gap","quickestWin","readinessSection","dimensionsGrid","dimension","_dimension$insights","dimensionCard","dimensionHeader","dimensionIcon","icon","dimensionScore","scoreBar","scoreBarFill","j","opportunitiesSection","opportunityGroup","opportunitiesGrid","item","opportunityCard","opportunityMeta","actionBox","roadmapSection","phase","_phase$milestones","phaseCard","milestones","milestone","valuationSection","valuation","valuationGrid","currentValuation","potentialValuation","valuationDrivers","driverCard","ctaSection","ctaContent","booking","ctaButtons","secondaryCTA","marginTop","backgroundColor","urgencyMessage","result","_c","$RefreshReg$"],"sources":["/Users/jon/Documents/GitHub/assessor/src/core/components/ResultsDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styles from '../styles/components.module.css';\nimport { AssessmentEngine } from '../engine/AssessmentEngine';\n\nconst ResultsDashboard = ({ \n  assessmentType, \n  calculateResults, \n  onRestart,\n  ResultsView,\n  getResponse, // Add these props to access the full assessment data\n  getContext\n}) => {\n  \n  const [results, setResults] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeSection, setActiveSection] = useState('summary');\n\n  useEffect(() => {\n    console.log('ResultsDashboard mounted with assessmentType:', assessmentType);\n    console.log('Custom ResultsView provided:', !!ResultsView);\n    generateResults();\n  }, []);\n\n  // Transform the scoring engine output to match the expected ResultsView format\n  const adaptResultsFormat = (rawResults) => {\n    console.log('Adapting results format for view:', assessmentType);\n    console.log('Raw results structure:', Object.keys(rawResults || {}));\n    \n    if (!rawResults) {\n      console.error('adaptResultsFormat received null/undefined rawResults');\n      return null;\n    }\n    \n    // For agency-vulnerability assessment\n    if (assessmentType === 'agency-vulnerability') {\n      // Direct extraction from raw results - the scoring engine output structure\n      // doesn't have a nested 'scores' object\n      const overallScore = rawResults.overall || 0;\n      const dimensionScores = rawResults.dimensions || {};\n      \n      // Extract insights which contain the priority areas\n      const insights = rawResults.insights || [];\n      const priorities = insights.filter(insight => insight.priority).sort((a, b) => a.priority - b.priority);\n      \n      // Create these objects with default values if not present in raw results\n      const vulnerabilityMetrics = rawResults.vulnerabilityMetrics || {};\n      const serviceScores = rawResults.serviceScores || {};\n      \n      // Log the correctly extracted data\n      console.log('Correctly extracted data from raw results:', {\n        overallScore,\n        dimensionScores,\n        prioritiesCount: priorities.length,\n        serviceScoresCount: Object.keys(serviceScores).length,\n        vulnerabilityMetrics\n      });\n      \n      // Construct default market position data if not available\n      const marketPosition = {\n        position: overallScore < 40 ? 'Behind Competitors' : overallScore < 70 ? 'On Par with Competitors' : 'Leading the Market',\n        percentile: Math.round(overallScore * 0.9), // Approximate percentile based on score\n        timeAdvantage: overallScore < 40 ? '1-3 months behind' : '3-6 months advantage',\n        competitiveAdvantage: overallScore < 40 ? 'Limited' : overallScore < 70 ? 'Moderate' : 'Significant',\n        threatLevel: overallScore < 40 ? 'High' : overallScore < 70 ? 'Moderate' : 'Low'\n      };\n      \n      // Construct default efficiency data if not available\n      const efficiencyPotential = {\n        overall: Math.round(vulnerabilityMetrics.overall || 50),\n        timeRecovered: `${Math.round((vulnerabilityMetrics.average || 50) / 10)} hours/week`,\n        costSavings: `${Math.round((vulnerabilityMetrics.overall || 50) * 100 / 25)}k annually`\n      };\n      \n      // Create adapted results format expected by AgencyResultsView\n      const adaptedResults = {\n        // Executive summary section\n        executive: {\n          headline: `Your Agency is ${marketPosition.position}`,\n          subheadline: `You're in the ${marketPosition.percentile}th percentile of agencies`,\n          keyMetrics: {\n            readinessScore: {\n              value: overallScore,\n              label: 'Readiness Score',\n              interpretation: `${overallScore < 40 ? 'Low' : overallScore < 70 ? 'Medium' : 'High'} readiness`\n            },\n            efficiencyGain: {\n              value: `${efficiencyPotential.overall}%`,\n              label: 'Efficiency Potential',\n              interpretation: `${efficiencyPotential.timeRecovered} hours/week reclaimed`\n            },\n            transformationUrgency: {\n              value: priorities.length > 0 ? (priorities[0].urgency || 'Medium') : 'Medium',\n              label: 'Transformation Urgency',\n              interpretation: marketPosition.timeAdvantage\n            }\n          },\n          narrative: `Your agency's AI readiness score is ${overallScore}. ${marketPosition.competitiveAdvantage} competitive advantage with ${marketPosition.threatLevel} threat level.`\n        },\n        \n        // Readiness analysis section\n        readiness: {\n          dimensions: Object.entries(dimensionScores).map(([key, value]) => ({\n            name: key.charAt(0).toUpperCase() + key.slice(1),\n            score: Math.round(value),\n            description: `Your ${key} score indicates ${value < 40 ? 'significant room for improvement' : value < 70 ? 'moderate capability' : 'strong capability'}.`\n          })),\n          narrative: `Your agency shows ${overallScore < 40 ? 'concerning vulnerabilities' : overallScore < 70 ? 'moderate preparedness' : 'strong positioning'} in the face of AI disruption. The dimension scores indicate where to focus your transformation efforts.`,\n          serviceReadiness: Object.entries(serviceScores).map(([service, data]) => ({\n            name: service.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase()),\n            score: data?.score || 0,\n            interpretation: data?.readiness || 'medium',\n            timeToDisruption: data?.score > 70 ? '3-6 months' : data?.score > 40 ? '12-18 months' : '24+ months'\n          })),\n          transformationPaths: {\n            content_creation: \"Implement AI writing workflow: Research → AI Draft → Human Edit → AI Optimize. Target: 3x output, same team.\",\n            creative_design: \"AI for ideation and variations: Brief → AI Concepts → Human Curation → AI Production. Deliver 10x options in half the time.\",\n            digital_marketing: \"Automate optimization: AI for copy testing, bid management, audience discovery. Focus humans on strategy and client relations.\",\n            seo_sem: \"AI-powered SEO at scale: Automated audits, content optimization, competitive tracking. Deliver enterprise-level insights to SMBs.\",\n            pr_comms: \"AI for media intelligence: Monitor everything, predict pickup, personalize pitches. Humans focus on relationships and narrative.\",\n            strategy_consulting: \"AI-enhanced insights: Use AI for research, analysis, and scenario modeling. Position as 'data-driven strategy' premium service.\"\n          }\n        },\n        \n        // Opportunities section\n        opportunities: {\n          immediate: {\n            title: 'Priority Transformation Areas',\n            subtitle: 'These areas require immediate attention',\n            items: priorities.slice(0, 3).map(priority => ({\n              title: priority.area || 'Unknown',\n              description: priority.description || 'No description available',\n              effort: priority.effort || 'Medium',\n              impact: priority.impact || 'High'\n            }))\n          },\n          // Add service-specific opportunities\n          serviceSpecific: Object.entries(serviceScores)\n            .filter(([_, data]) => data?.score > 50) // Focus on vulnerable services\n            .map(([service, data]) => {\n              // Map service key to proper format for lookup\n              const serviceKey = service.toLowerCase().replace(/\\s+/g, '_');\n              \n              // Create default recommendation if specific one not found\n              return {\n                service: service.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase()),\n                title: `AI-Enable ${service.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}`,\n                description: `Implement AI tools to transform your ${service.replace(/_/g, ' ')} service, improving efficiency and output quality.`,\n                difficulty: data?.score > 70 ? 'high' : 'medium',\n                time: `Save ${Math.round(data?.score / 10)} hours/week`,\n                impact: 'Significant productivity gain'\n              };\n            }),\n          // Add strategic opportunities\n          strategic: [\n            {\n              title: \"AI-First Service Revolution\",\n              description: \"Redesign all services with AI at the core. Not 'AI-enhanced' but 'AI-native'. Deliver 10x value at premium prices.\",\n              timeline: \"6-month transformation\",\n              impact: \"Market leadership position\",\n              complexity: \"high\"\n            },\n            {\n              title: \"Productize Your Expertise\",\n              description: \"Transform your expertise into AI-powered tools. Package and sell your process as a SaaS offering.\",\n              timeline: \"9-month project\",\n              impact: \"Recurring revenue stream\",\n              complexity: \"high\"\n            }\n          ],\n          // Valuation-enhancing opportunities\n          valuationImpact: [\n            {\n              action: \"Improve revenue predictability\",\n              impact: \"+0.5-1.0x multiple\",\n              howTo: \"Convert to 40%+ recurring revenue\"\n            },\n            {\n              action: \"Reduce client concentration\",\n              impact: \"+0.5x multiple\",\n              howTo: \"No client over 20% of revenue\"\n            },\n            {\n              action: \"Transform vulnerable services\",\n              impact: \"+0.5-1.0x multiple\",\n              howTo: \"AI-enable high-vulnerability services\"\n            }\n          ]\n        },\n        \n        // Roadmap section\n        roadmap: {\n          overview: {\n            title: 'Your AI Transformation Journey',\n            approach: 'A phased approach to transform your agency operations'\n          },\n          phases: [\n            {\n              title: 'Phase 1: Foundation',\n              duration: '0-3 months',\n              actions: priorities.slice(0, 2).flatMap(p => p.actions || ['Assess current capabilities', 'Define transformation goals'])\n            },\n            {\n              title: 'Phase 2: Implementation',\n              duration: '3-6 months',\n              actions: priorities.slice(1, 3).flatMap(p => p.actions || ['Implement pilot projects', 'Develop staff skills'])\n            },\n            {\n              title: 'Phase 3: Optimization',\n              duration: '6-12 months',\n              actions: ['Scale successful implementations', 'Optimize for maximum efficiency']\n            }\n          ]\n        },\n        \n        // Impact/valuation section\n        impact: {\n          title: 'Valuation Impact',\n          subtitle: 'How AI transformation affects your agency value',\n          current: {\n            multiple: `${(2 + (overallScore/100 * 2)).toFixed(1)}x`,\n            category: 'Current valuation multiple'\n          },\n          potential: {\n            multiple: `${(3 + (overallScore/100 * 3)).toFixed(1)}x`,\n            increase: '+1.5x',\n            achievableIn: '12-18 months'\n          },\n          drivers: [\n            {\n              driver: 'Operational Efficiency',\n              currentImpact: 'Medium',\n              potentialImpact: 'High',\n              action: `Implement ${priorities[0]?.area || 'AI tools'}`\n            },\n            {\n              driver: 'Revenue Predictability',\n              currentImpact: 'Low',\n              potentialImpact: 'High',\n              action: 'Automate client retention processes'\n            },\n            {\n              driver: 'Margin Improvement',\n              currentImpact: 'Medium',\n              potentialImpact: 'High',\n              action: `${efficiencyPotential.costSavings}`\n            }\n          ]\n        },\n        \n        // Next steps section\n        nextSteps: {\n          options: [\n            {\n              title: 'QuickMap Strategy Session',\n              price: 'Free',\n              description: '45-minute consultation to review your results and identify immediate opportunities',\n              idealFor: 'Understanding your next steps and quick wins'\n            },\n            {\n              title: 'AI Transformation Roadmap',\n              price: '$3,500',\n              description: 'Comprehensive roadmap development with implementation plan and ROI analysis',\n              idealFor: 'Agencies ready to accelerate their AI adoption'\n            }\n          ],\n          testimonial: {\n            quote: 'The assessment helped us identify our biggest AI opportunities and prioritize our transformation efforts. We\\'ve already seen a 30% increase in efficiency.',\n            author: 'Sarah Johnson',\n            role: 'CEO, Creative Digital Partners'\n          }\n        },\n        \n        // Include the raw data for reference/debugging\n        _rawData: rawResults\n      };\n      \n      console.log('Adapted results structure:', {\n        hasExecutive: !!adaptedResults.executive,\n        hasReadiness: !!adaptedResults.readiness,\n        hasOpportunities: !!adaptedResults.opportunities,\n        hasRoadmap: !!adaptedResults.roadmap,\n        hasImpact: !!adaptedResults.impact,\n        hasNextSteps: !!adaptedResults.nextSteps\n      });\n      \n      return adaptedResults;\n    }\n    \n    // For inhouse-marketing assessment\n    else if (assessmentType === 'inhouse-marketing') {\n      console.log('Processing inhouse-marketing assessment data', rawResults);\n      \n      // Extract key data from raw results\n      const overallScore = rawResults.overall || 0;\n      const dimensionScores = rawResults.dimensions || {};\n      const categoryScores = rawResults.categoryScores || {};\n      const activityScores = rawResults.activityScores || {};\n      const priorities = (rawResults.priorities || []).slice(0, 3);\n      const insights = (rawResults.insights || []).sort((a, b) => (b.weight || 0) - (a.weight || 0));\n      const companySize = rawResults.companySize || 'small';\n      const selectedActivities = rawResults.selectedActivities || [];\n      const sector = rawResults.sector || 'other';\n      const readinessLevel = rawResults.readinessLevel || {\n        level: overallScore < 40 ? 'critical' : overallScore < 55 ? 'low' : overallScore < 75 ? 'medium' : 'high',\n        label: overallScore < 40 ? 'Urgent Action Needed' : overallScore < 55 ? 'Early Stage' : overallScore < 75 ? 'Building Capability' : 'Transformation Ready',\n        description: overallScore < 40 ? 'Significant gap to close quickly' : overallScore < 55 ? 'Starting the journey with quick wins' : overallScore < 75 ? 'Good foundation with room for growth' : 'Your team is ready to accelerate AI adoption'\n      };\n      const marketPosition = rawResults.marketPosition || {\n        percentile: Math.round(overallScore * 0.9),\n        trend: overallScore < 50 ? 'lagging' : 'leading'\n      };\n      const savingsPotential = rawResults.savingsPotential || {\n        hours: Math.round(overallScore / 5),\n        cost: `$${Math.round(overallScore * 100 / 10)}k`,\n        percentage: Math.round(overallScore / 2)\n      };\n      \n      // Sort activities by their score to prioritize recommendations\n      const sortedActivities = Object.entries(activityScores || {}).sort(([, a], [, b]) => {\n        return (b.automationPotential || 0) - (a.automationPotential || 0);\n      });\n      \n      // Generate human readiness description based on scores\n      const humanReadinessScore = dimensionScores.humanReadiness || 0;\n      const humanReadinessDesc = humanReadinessScore < 40 ? \n        'Your team needs AI champions and leadership support' : \n        humanReadinessScore < 60 ? \n        'You have some team members ready to adopt AI but need more structure' :\n        'Your team has strong foundations for AI adoption';\n      \n      // Generate technical readiness description\n      const techReadinessScore = dimensionScores.technicalReadiness || 0;\n      const techReadinessDesc = techReadinessScore < 40 ?\n        'Your tech stack needs updating to support AI integration' :\n        techReadinessScore < 60 ?\n        'You have basic technical capabilities but room for improvement' :\n        'Your technical foundation is strong for AI adoption';\n      \n      // Company size specific messaging\n      const sizeContext = {\n        solo: {\n          focus: 'time savings and quick wins',\n          advantage: 'flexibility and agility',\n          challenge: 'limited resources and bandwidth'\n        },\n        small: {\n          focus: 'team collaboration and efficiency',\n          advantage: 'nimble decision-making',\n          challenge: 'balancing multiple priorities'\n        },\n        medium: {\n          focus: 'scalability and competitive advantage',\n          advantage: 'established processes',\n          challenge: 'potential organizational resistance'\n        }\n      }[companySize] || sizeContext.small;\n      \n      // Select top 3 activities for quick wins based on impact and team readiness\n      const topActivities = sortedActivities.slice(0, 3).map(([id, data]) => {\n        // Get service details from the id\n        const serviceName = id.replace(/_/g, ' ')\n          .replace(/\\b\\w/g, l => l.toUpperCase());\n        \n        return {\n          id: id,\n          name: serviceName,\n          automationPotential: data.automationPotential || 0,\n          timeSavings: data.timeSavings || 0,\n          quickWinPotential: data.quickWinPotential || 0\n        };\n      });\n      \n      // Generate detailed executive summary\n      const criticalInsight = insights.length > 0 ? \n        insights[0].description || \"Teams that systematically adopt AI tools save 15+ hours per week per marketer\" :\n        \"Teams that systematically adopt AI tools save 15+ hours per week per marketer\";\n      \n      // Create comprehensive results object\n      return {\n        executiveSummary: {\n          headline: `Your ${companySize === 'solo' ? 'Marketing Operation' : 'Marketing Team'} is ${readinessLevel.label}`,\n          marketContext: `You're ahead of ${marketPosition.percentile}% of similar ${companySize} marketing teams in AI readiness`,\n          criticalInsight: criticalInsight,\n          bottomLine: `With a readiness score of ${overallScore}, your team has ${overallScore < 40 ? 'significant' : overallScore < 70 ? 'moderate' : 'excellent'} potential to leverage AI tools for increased productivity and impact`\n        },\n        marketPosition: {\n          quartile: overallScore < 25 ? \"Bottom Quartile\" : overallScore < 50 ? \"Third Quartile\" : overallScore < 75 ? \"Second Quartile\" : \"Top Quartile\",\n          message: readinessLevel.label,\n          implication: `You're ${marketPosition.trend === 'lagging' ? 'likely to face increasing pressure to deliver more with the same resources' : 'positioned to increase output while reducing workload'}`,\n          competitorActions: `Teams with similar profiles are ${marketPosition.trend === 'lagging' ? 'increasingly using AI to automate routine tasks' : 'expanding their service offerings while reducing costs'}`,\n          timeToAct: readinessLevel.level === 'critical' ? \"Urgent - start this week\" : readinessLevel.level === 'low' ? \"Important - begin this month\" : \"Strategic - implement over quarter\"\n        },\n        quickWins: topActivities.map((activity, index) => {\n          // Generate appropriate actions based on activity type\n          const actions = {\n            content_marketing: {\n              title: \"AI-Powered Content Creation\",\n              why: \"Content creation is the easiest area to achieve immediate time savings\",\n              how: \"Use Claude or ChatGPT to draft content, then edit for brand voice\",\n              specificAction: \"Select one upcoming content piece and create it with AI assistance\",\n              expectedResult: \"40-60% time reduction\",\n              marketContext: \"78% of marketing teams start their AI journey with content\",\n              investment: \"Free tools available\"\n            },\n            social_media: {\n              title: \"Automate Social Media Content\",\n              why: \"Repurposing content is time-intensive but necessary\",\n              how: \"Use AI to transform blog posts into multiple social posts\",\n              specificAction: \"Take your latest article and create 10 social posts with AI\",\n              expectedResult: \"10x output in same time period\",\n              marketContext: \"Teams using AI for social see 3x higher posting frequency\",\n              investment: \"Free to $20/month\"\n            },\n            analytics_data: {\n              title: \"Streamline Reporting & Insights\",\n              why: \"Reporting is time-consuming but critical for proving value\",\n              how: \"Automate data collection and insights generation\",\n              specificAction: \"Set up an automated dashboard pulling from your marketing platforms\",\n              expectedResult: \"2-4 hours saved weekly\",\n              marketContext: \"Automated reporting correlates with 2x higher perceived value\",\n              investment: \"$50-100/month\"\n            },\n            email_marketing: {\n              title: \"AI-Enhanced Email Campaigns\",\n              why: \"Email optimization requires constant testing and iteration\",\n              how: \"Use AI for subject line generation and content personalization\",\n              specificAction: \"Generate 10 subject line variants with AI for your next campaign\",\n              expectedResult: \"20-40% open rate improvement\",\n              marketContext: \"AI-optimized emails see 30% higher engagement rates\",\n              investment: \"Free to $30/month\"\n            },\n            creative_design: {\n              title: \"Automate Design Tasks\",\n              why: \"Design bottlenecks often slow down marketing delivery\",\n              how: \"Use AI design tools for initial concepts and variations\",\n              specificAction: \"Test AI-generated images for your next social campaign\",\n              expectedResult: \"3-5x more design options in half the time\",\n              marketContext: \"Teams using AI for design report 60% faster production\",\n              investment: \"$10-50/month\"\n            },\n            paid_advertising: {\n              title: \"AI-Optimized Ad Copy\",\n              why: \"Ad creative testing is time-intensive but essential\",\n              how: \"Use AI to generate multiple ad variations based on top performers\",\n              specificAction: \"Create 20 headline variations for your current campaign\",\n              expectedResult: \"30% lower cost-per-acquisition\",\n              marketContext: \"AI ad optimization improves ROAS by average of 27%\",\n              investment: \"Mostly free tools to start\"\n            },\n            seo_sem: {\n              title: \"AI-Powered SEO Enhancement\",\n              why: \"SEO optimization requires constant content updates\",\n              how: \"Use AI for keyword research and content optimization\",\n              specificAction: \"Optimize your top 5 performing pages with AI recommendations\",\n              expectedResult: \"20-30% organic traffic increase\",\n              marketContext: \"AI-optimized content ranks 40% faster on average\",\n              investment: \"$20-75/month\"\n            },\n            marketing_automation: {\n              title: \"Enhanced Marketing Automation\",\n              why: \"Workflow optimization can reclaim significant time\",\n              how: \"Use AI to improve your automation triggers and personalization\",\n              specificAction: \"Implement AI-driven segmentation in your next campaign\",\n              expectedResult: \"2x conversion rate improvement\",\n              marketContext: \"Advanced automation correlates with 3x higher ROI\",\n              investment: \"Uses existing automation platform\"\n            }\n          };\n          \n          // Return the appropriate action or a generic one if not found\n          return actions[activity.id] || {\n            title: `Optimize ${activity.name}`,\n            why: `${activity.name} has high potential for AI enhancement`,\n            how: \"Implement AI tools specific to this marketing function\",\n            specificAction: `Identify the most time-consuming ${activity.name} task and test AI assistance`,\n            expectedResult: `${Math.round(activity.timeSavings)}% time savings`,\n            marketContext: `Teams are rapidly adopting AI for ${activity.name}`,\n            investment: \"Variable based on tools selected\"\n          };\n        }),\n        strategicRoadmap: {\n          overview: `Your ${Math.round(overallScore / 10) * 10}-Day AI Implementation Plan`,\n          phase1: {\n            name: \"Phase 1: Experimentation & Quick Wins\",\n            focus: `Focus on ${sizeContext.focus}`,\n            actions: [\n              ...(categoryScores.champions < 50 ? [\"Identify your team's AI champion\"] : []),\n              `Test AI with ${topActivities[0]?.name || 'your highest priority marketing activity'}`,\n              \"Document time savings and quality impact\",\n              \"Create simple templates for common AI prompts\"\n            ],\n            expectedOutcome: `Proof of concept showing ${Math.round(savingsPotential.hours / 2)}-${savingsPotential.hours} hours saved weekly`\n          },\n          phase2: {\n            name: \"Phase 2: Process Development\",\n            focus: \"Create scalable workflows and team training\",\n            actions: [\n              ...(topActivities.slice(0, 2).map(a => `Develop AI workflow for ${a.name}`)),\n              ...(categoryScores.resources < 50 ? [\"Train team on basic AI prompting techniques\"] : []),\n              \"Implement measurement system for tracking time savings\"\n            ],\n            expectedOutcome: \"Team-wide adoption with documented processes\"\n          },\n          phase3: {\n            name: \"Phase 3: Integration & Expansion\",\n            focus: \"Scale successful pilots across all activities\",\n            actions: [\n              `Integrate AI tools with your existing ${marketPosition.trend === 'leading' ? 'tech stack' : 'workflow'}`,\n              ...(topActivities.length > 2 ? [`Expand AI to ${topActivities[2].name}`] : []),\n              \"Develop optimization feedback loops\",\n              \"Document ROI and share success stories\"\n            ],\n            expectedOutcome: `${savingsPotential.hours}+ hours saved per team member weekly`\n          },\n          investmentGuide: `Initial investment: Free trials → ${companySize === 'solo' ? '$20-50' : companySize === 'small' ? '$50-100' : '$100-200'}/month per marketer`\n        },\n        expectedOutcomes: [\n          // Dynamically generate outcomes based on selected activities\n          ...topActivities.map(activity => {\n            const outcomes = {\n              content_marketing: {\n                area: \"Content Production\",\n                keyMetric: \"Content pieces per marketer\",\n                baseline: \"2-3 per week\",\n                target: \"8-10 per week\",\n                timeframe: \"90 days\"\n              },\n              social_media: {\n                area: \"Social Media Engagement\",\n                keyMetric: \"Posts and engagement rate\",\n                baseline: \"3-5 posts weekly, 1-2% engagement\",\n                target: \"10-15 posts weekly, 2-4% engagement\",\n                timeframe: \"60 days\"\n              },\n              analytics_data: {\n                area: \"Reporting Efficiency\",\n                keyMetric: \"Hours spent on reporting\",\n                baseline: \"5-8 hours weekly\",\n                target: \"1-2 hours weekly\",\n                timeframe: \"30 days\"\n              },\n              email_marketing: {\n                area: \"Email Performance\",\n                keyMetric: \"Open and click-through rates\",\n                baseline: \"Industry average\",\n                target: \"25-40% above industry average\",\n                timeframe: \"45 days\"\n              },\n              creative_design: {\n                area: \"Design Production\",\n                keyMetric: \"Design assets per week\",\n                baseline: \"5-10 assets\",\n                target: \"20-30 assets\",\n                timeframe: \"60 days\"\n              },\n              paid_advertising: {\n                area: \"Ad Performance\",\n                keyMetric: \"Cost per acquisition\",\n                baseline: \"Current CPA\",\n                target: \"25-30% reduction in CPA\",\n                timeframe: \"45 days\"\n              },\n              seo_sem: {\n                area: \"Organic Traffic\",\n                keyMetric: \"Search visibility and traffic\",\n                baseline: \"Current monthly visitors\",\n                target: \"30-50% increase\",\n                timeframe: \"90 days\"\n              },\n              marketing_automation: {\n                area: \"Lead Nurturing\",\n                keyMetric: \"Conversion rate\",\n                baseline: \"Current pipeline conversion\",\n                target: \"2x higher conversion rate\",\n                timeframe: \"60 days\"\n              }\n            };\n            \n            return outcomes[activity.id] || {\n              area: activity.name,\n              keyMetric: \"Productivity and output\",\n              baseline: \"Current level\",\n              target: `${Math.round(activity.timeSavings)}% time savings`,\n              timeframe: \"60-90 days\"\n            };\n          }),\n          // Always include team satisfaction\n          {\n            area: \"Team Satisfaction\",\n            keyMetric: \"Percentage of time on strategic work\",\n            baseline: \"20-30%\",\n            target: \"50-60%\",\n            timeframe: \"90 days\"\n          }\n        ],\n        nextSteps: {\n          primaryCTA: {\n            title: readinessLevel.level === 'critical' || readinessLevel.level === 'low' ? \n              \"Book Your Free AI Strategy Session\" : \n              \"Schedule Your AI Implementation Workshop\",\n            description: readinessLevel.level === 'critical' || readinessLevel.level === 'low' ? \n              \"45-minute consultation to review your results and create your custom AI adoption roadmap\" :\n              \"90-minute workshop to fast-track your AI implementation with expert guidance\",\n            link: \"#book-consultation\",\n            buttonText: readinessLevel.level === 'critical' || readinessLevel.level === 'low' ? \n              \"Book My Strategy Session\" :\n              \"Schedule Implementation Workshop\"\n          },\n          alternatives: [\n            {\n              text: \"Download Full Report\",\n              link: \"#download\",\n              description: \"Get a PDF of your complete assessment results\"\n            },\n            {\n              text: companySize === 'solo' ? \"Join Solo Marketer Community\" : \"Join Upcoming Webinar\",\n              link: \"#webinar\",\n              description: companySize === 'solo' ? \"Connect with other solo marketers adopting AI\" : \"Attend our 'AI for Marketing Teams' workshop\"\n            },\n            {\n              text: \"Access AI Templates\",\n              link: \"#templates\",\n              description: \"Get our library of proven AI prompts for marketing\"\n            }\n          ]\n        },\n        _rawData: rawResults\n      };\n    }\n    \n    // For inhouse-marketing assessment type\n    if (assessmentType === 'inhouse-marketing') {\n      // Extract key data points from raw results\n      const overallScore = rawResults.overall || 0;\n      const dimensionScores = rawResults.dimensions || {};\n      const categoryScores = rawResults.categoryScores || {};\n      const activityScores = rawResults.activityScores || {};\n      const insights = rawResults.insights || [];\n      const priorities = rawResults.priorities || [];\n      const readinessLevel = rawResults.readinessLevel || {};\n      const marketPosition = rawResults.marketPosition || {};\n      const savingsPotential = rawResults.savingsPotential || {};\n      const companySize = rawResults.companySize || 'small';\n      const selectedActivities = rawResults.selectedActivities || [];\n      const sector = rawResults.sector || 'other';\n      \n      // Get all response data using getResponse to ensure we have the complete context\n      const allResponses = {};\n      try {\n        // Get all saved question responses\n        const questionTypes = ['qualifying', 'service_selection', 'dynamic_questions'];\n        questionTypes.forEach(type => {\n          const savedData = getResponse(type);\n          if (savedData) {\n            Object.assign(allResponses, savedData);\n          }\n        });\n        console.log('Retrieved all responses for context:', allResponses);\n      } catch (error) {\n        console.error('Error retrieving responses:', error);\n      }\n      \n      // Create a comprehensive results object similar to agency-vulnerability format\n      return {\n        // Assessment metadata\n        assessmentType: 'inhouse-marketing',\n        timestamp: rawResults.timestamp || new Date().toISOString(),\n        \n        // Individual question responses\n        responses: allResponses,\n        \n        // Context data\n        context: {\n          companySize: companySize,\n          sector: sector,\n          selectedActivities: selectedActivities\n        },\n        \n        // Results data\n        results: {\n          overall: overallScore,\n          dimensions: dimensionScores,\n          categoryScores: categoryScores,\n          activityScores: activityScores,\n          insights: insights,\n          priorities: priorities,\n          readinessLevel: readinessLevel,\n          marketPosition: marketPosition,\n          savingsPotential: savingsPotential,\n        },\n        \n        // Engine data for completeness\n        engineData: {\n          allResponses: allResponses,\n          context: {\n            companySize: companySize,\n            sector: sector,\n            selectedActivities: selectedActivities\n          },\n          progressData: {\n            current: 5,\n            total: 6,\n            percentage: 80,\n            stageName: 'results'\n          },\n          completionStatus: true\n        },\n        \n        // Include raw data for debugging\n        _rawData: rawResults\n      };\n    }\n    \n    // For other assessment types, return the raw results\n    return rawResults;\n  };\n  \n  const generateResults = async () => {\n    try {\n      setIsLoading(true);\n      console.log('Starting results calculation for assessment type:', assessmentType);\n      \n      // Calculate scores and generate recommendations\n      console.log('Calling calculateResults...');\n      const calculatedResults = await calculateResults();\n      console.log('Raw calculation results:', JSON.stringify(calculatedResults, null, 2));\n      \n      if (!calculatedResults) {\n        throw new Error('Calculation returned no results');\n      }\n      \n      // Transform the results format to match what ResultsView expects\n      const adaptedResults = adaptResultsFormat(calculatedResults);\n      console.log('Adapted results for view:', adaptedResults);\n      \n      if (!adaptedResults) {\n        throw new Error('Failed to adapt results format');\n      }\n      \n      setResults(adaptedResults);\n      setIsLoading(false);\n      console.log('Results dashboard data set successfully');\n    } catch (err) {\n      console.error('Error generating results:', err);\n      console.error('Error stack:', err.stack);\n      setError(`Failed to generate results: ${err.message}. Check console for details.`);\n      setIsLoading(false);\n    }\n  };\n\n  const handleBookConsultation = () => {\n    // Track conversion\n    if (window.gtag) {\n      window.gtag('event', 'consultation_click', {\n        assessment_type: assessmentType,\n        score: results?.scores?.overall || 0,\n        category: results?.scores?.categories?.technology?.score > 50 ? 'high' : 'low'\n      });\n    }\n    \n    // Navigate to booking page with context\n    const bookingUrl = `https://obsolete.com/quickmap?assessment=${assessmentType}&score=${results?.scores?.overall || 0}`;\n    window.open(bookingUrl, '_blank');\n  };\n\n  const handleDownloadReport = async () => {\n    // Track download\n    if (window.gtag) {\n      window.gtag('event', 'report_download', {\n        assessment_type: assessmentType,\n        score: results?.scores?.overall || 0\n      });\n    }\n    \n    // Generate and download PDF\n    // This would typically call a cloud function or API\n    alert('Report download functionality would be implemented here');\n  };\n  \n  // Function to download complete assessment data as JSON\n  const handleDownloadRawData = async () => {\n    try {\n      console.log('Preparing comprehensive assessment data download...');\n      \n      // Retrieve comprehensive data from localStorage first\n      const savedProgress = localStorage.getItem('assessment_progress');\n      let savedData = savedProgress ? JSON.parse(savedProgress) : {};\n      \n      // Create a complete dataset including all available data\n      const comprehensiveData = {\n        // Assessment metadata\n        assessmentType,\n        timestamp: new Date().toISOString(),\n        \n        // Individual question responses\n        responses: savedData.responses || {},\n        \n        // Context data (sector, services, etc.)\n        context: savedData.context || {},\n        \n        // Results data if available\n        results: results || {},\n        \n        // Get full state using AssessmentEngine\n        engineData: await getFullAssessmentData()\n      };\n      \n      console.log('Comprehensive data prepared:', comprehensiveData);\n      \n      // Create a blob with the data\n      const dataToDownload = JSON.stringify(comprehensiveData, null, 2);\n      const blob = new Blob([dataToDownload], { type: 'application/json' });\n      \n      // Create a URL for the blob\n      const url = URL.createObjectURL(blob);\n      \n      // Create a temporary anchor element to trigger download\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `complete-assessment-data-${assessmentType}-${new Date().toISOString().slice(0, 10)}.json`;\n      document.body.appendChild(a);\n      a.click();\n      \n      // Clean up\n      setTimeout(() => {\n        document.body.removeChild(a);\n        URL.revokeObjectURL(url);\n      }, 100);\n      \n      console.log('Downloaded complete assessment data');\n    } catch (error) {\n      console.error('Error downloading comprehensive data:', error);\n      alert('Failed to download assessment data: ' + error.message);\n    }\n  };\n  \n  // Helper function to get all data from the assessment engine\n  const getFullAssessmentData = async () => {\n    try {\n      // Create a temporary engine instance to access its methods\n      const engine = new AssessmentEngine(assessmentType);\n      await engine.initialize();\n      \n      // Load any saved progress\n      await engine.loadProgress();\n      \n      return {\n        allResponses: engine.getAllResponses(),\n        context: engine.getContext(),\n        progressData: engine.getProgress(),\n        completionStatus: engine.isComplete()\n      };\n    } catch (error) {\n      console.error('Error retrieving full assessment data:', error);\n      return { error: error.message };\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className={styles.loadingContainer}>\n        <div className={styles.loadingAnimation}>\n          <div className={styles.spinner} />\n          <h2>Analyzing your responses...</h2>\n          <p>Generating personalized recommendations</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={styles.errorContainer}>\n        <h2>Something went wrong</h2>\n        <p>{error}</p>\n        <button onClick={generateResults} className={styles.primaryButton}>\n          Try Again\n        </button>\n      </div>\n    );\n  }\n\n  if (!results) return null;\n\n  // Use custom ResultsView if provided, otherwise use default\n  if (ResultsView) {\n    console.log('ResultsDashboard: Using custom ResultsView component:', ResultsView.name || 'Anonymous Component');\n    console.log('ResultsDashboard: Passing results to ResultsView:', JSON.stringify(results, null, 2));\n    \n    // Verify all required sections exist in adapted results before rendering\n    if (assessmentType === 'agency-vulnerability') {\n      const { executive, readiness, opportunities, roadmap, impact, nextSteps } = results || {};\n      console.log('Verifying agency-vulnerability required sections:', {\n        hasExecutive: !!executive,\n        hasReadiness: !!readiness,\n        hasOpportunities: !!opportunities,\n        hasRoadmap: !!roadmap,\n        hasImpact: !!impact,\n        hasNextSteps: !!nextSteps\n      });\n      \n      // Additional validation of nested structures\n      if (executive) {\n        console.log('Executive section validation:', {\n          hasHeadline: !!executive.headline,\n          hasSubheadline: !!executive.subheadline,\n          hasKeyMetrics: !!executive.keyMetrics,\n          readinessScoreValue: executive.keyMetrics?.readinessScore?.value\n        });\n      }\n    }\n    \n    return <ResultsView results={results} onBookConsultation={handleBookConsultation} />;\n  }\n\n  // Default results view\n  // Extract scores, report, and recommendations, ensuring we handle any missing properties\n  const { scores = {}, report = {}, insights = [] } = results || {};\n  const recommendations = report?.recommendations || insights || [];\n\n  return (\n    <div className={styles.resultsContainer}>\n      {/* Header with score */}\n      <div className={styles.resultsHeader}>\n        <div className={styles.scoreSection}>\n          <div className={styles.scoreCircle}>\n            <svg width=\"200\" height=\"200\" viewBox=\"0 0 200 200\">\n              <circle\n                cx=\"100\"\n                cy=\"100\"\n                r=\"90\"\n                stroke=\"rgba(255,255,255,0.1)\"\n                strokeWidth=\"12\"\n                fill=\"none\"\n              />\n              <circle\n                cx=\"100\"\n                cy=\"100\"\n                r=\"90\"\n                stroke=\"#ffff66\"\n                strokeWidth=\"12\"\n                fill=\"none\"\n                strokeDasharray={`${2 * Math.PI * 90}`}\n                strokeDashoffset={`${2 * Math.PI * 90 * (1 - (scores.overall || 0) / 100)}`}\n                transform=\"rotate(-90 100 100)\"\n                style={{ transition: 'stroke-dashoffset 1.5s ease' }}\n              />\n            </svg>\n            <div className={styles.scoreValue}>\n              <span className={styles.scoreNumber}>{scores.overall || 0}</span>\n              <span className={styles.scoreLabel}>Overall Score</span>\n            </div>\n          </div>\n        </div>\n        \n        <div className={styles.headlineSection}>\n          <h1>{report?.executive?.headline || 'Your Assessment Results'}</h1>\n          <p className={styles.subheadline}>\n            {report?.executive?.subheadline || 'Detailed analysis and recommendations below'}\n          </p>\n          \n          <div className={styles.keyMetrics}>\n            {report?.executive?.keyMetrics && Object.entries(report.executive.keyMetrics).map(([key, metric]) => (\n              <div key={key} className={styles.metricCard}>\n                <div className={styles.metricValue}>{metric.value}</div>\n                <div className={styles.metricLabel}>{metric.label}</div>\n                <div className={styles.metricInterpretation}>{metric.interpretation}</div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Section Navigation */}\n      <div className={styles.sectionNav}>\n        <button\n          className={`${styles.navButton} ${activeSection === 'summary' ? styles.active : ''}`}\n          onClick={() => setActiveSection('summary')}\n        >\n          Summary\n        </button>\n        <button\n          className={`${styles.navButton} ${activeSection === 'readiness' ? styles.active : ''}`}\n          onClick={() => setActiveSection('readiness')}\n        >\n          Readiness\n        </button>\n        <button\n          className={`${styles.navButton} ${activeSection === 'opportunities' ? styles.active : ''}`}\n          onClick={() => setActiveSection('opportunities')}\n        >\n          Opportunities\n        </button>\n        <button\n          className={`${styles.navButton} ${activeSection === 'roadmap' ? styles.active : ''}`}\n          onClick={() => setActiveSection('roadmap')}\n        >\n          Roadmap\n        </button>\n        {scores.categories && (\n          <button\n            className={`${styles.navButton} ${activeSection === 'valuation' ? styles.active : ''}`}\n            onClick={() => setActiveSection('valuation')}\n          >\n            Valuation Impact\n          </button>\n        )}\n      </div>\n\n      {/* Section Content */}\n      <div className={styles.sectionContent}>\n        {activeSection === 'summary' && (\n          <div className={styles.summarySection}>\n            <div className={styles.narrative}>\n              <p>{report?.executive?.narrative}</p>\n            </div>\n            \n            <div className={styles.snapshotGrid}>\n              <div className={styles.snapshotCard}>\n                <h3>Strengths</h3>\n                <ul>\n                  {report?.executive?.snapshot?.strengths?.map((strength, i) => (\n                    <li key={i}>{strength}</li>\n                  ))}\n                </ul>\n              </div>\n              \n              <div className={styles.snapshotCard}>\n                <h3>Gaps</h3>\n                <ul>\n                  {report?.executive?.snapshot?.gaps?.map((gap, i) => (\n                    <li key={i}>{gap}</li>\n                  ))}\n                </ul>\n              </div>\n              \n              {report?.executive?.snapshot?.quickestWin && (\n                <div className={styles.snapshotCard}>\n                  <h3>Quickest Win</h3>\n                  <h4>{report.executive.snapshot.quickestWin.action}</h4>\n                  <p>Impact: {report.executive.snapshot.quickestWin.impact}</p>\n                  <p>Effort: {report.executive.snapshot.quickestWin.effort}</p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {activeSection === 'readiness' && (\n          <div className={styles.readinessSection}>\n            <div className={styles.dimensionsGrid}>\n              {report?.readiness?.dimensions?.map((dimension, i) => (\n                <div key={i} className={styles.dimensionCard}>\n                  <div className={styles.dimensionHeader}>\n                    <span className={styles.dimensionIcon}>{dimension.icon}</span>\n                    <h3>{dimension.name}</h3>\n                  </div>\n                  <div className={styles.dimensionScore}>\n                    <div className={styles.scoreBar}>\n                      <div \n                        className={styles.scoreBarFill} \n                        style={{ width: `${dimension.score}%` }}\n                      />\n                    </div>\n                    <span>{dimension.score}%</span>\n                  </div>\n                  <p>{dimension.description}</p>\n                  <ul className={styles.insights}>\n                    {dimension.insights?.map((insight, j) => (\n                      <li key={j}>{insight}</li>\n                    ))}\n                  </ul>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {activeSection === 'opportunities' && (\n          <div className={styles.opportunitiesSection}>\n            {recommendations?.immediate && (\n              <div className={styles.opportunityGroup}>\n                <h2>{recommendations.immediate.title || \"Quick Wins\"}</h2>\n                <p>{recommendations.immediate.subtitle}</p>\n                <div className={styles.opportunitiesGrid}>\n                  {recommendations.immediate.items?.map((item, i) => (\n                    <div key={i} className={styles.opportunityCard}>\n                      <h3>{item.title}</h3>\n                      <p>{item.description || item.why}</p>\n                      <div className={styles.opportunityMeta}>\n                        <span className={styles.effort}>Effort: {item.effort}</span>\n                        <span className={styles.impact}>Impact: {item.impact}</span>\n                      </div>\n                      {item.specificAction && (\n                        <div className={styles.actionBox}>\n                          <strong>Action:</strong> {item.specificAction}\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeSection === 'roadmap' && (\n          <div className={styles.roadmapSection}>\n            <h2>Your Transformation Journey</h2>\n            <div className={styles.phases}>\n              {report?.roadmap?.phases?.map((phase, i) => (\n                <div key={i} className={styles.phaseCard}>\n                  <h3>{phase.name}</h3>\n                  <p className={styles.duration}>{phase.duration}</p>\n                  <p className={styles.focus}>{phase.focus}</p>\n                  <h4>Milestones:</h4>\n                  <ul>\n                    {phase.milestones?.map((milestone, j) => (\n                      <li key={j}>{milestone}</li>\n                    ))}\n                  </ul>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {activeSection === 'valuation' && scores.categories && (\n          <div className={styles.valuationSection}>\n            <h2>{report?.valuation?.title}</h2>\n            <p>{report?.valuation?.subtitle}</p>\n            \n            <div className={styles.valuationGrid}>\n              <div className={styles.currentValuation}>\n                <h3>Current Valuation</h3>\n                <div className={styles.multiple}>{report?.valuation?.current?.multiple}</div>\n                <p>{report?.valuation?.current?.category}</p>\n              </div>\n              \n              <div className={styles.potentialValuation}>\n                <h3>Potential Valuation</h3>\n                <div className={styles.multiple}>{report?.valuation?.potential?.multiple}</div>\n                <div className={styles.increase}>{report?.valuation?.potential?.increase}</div>\n                <p>Achievable in {report?.valuation?.potential?.achievableIn}</p>\n              </div>\n            </div>\n            \n            <div className={styles.valuationDrivers}>\n              <h3>Value Drivers</h3>\n              {report?.valuation?.drivers?.map((driver, i) => (\n                <div key={i} className={styles.driverCard}>\n                  <h4>{driver.driver}</h4>\n                  <p>Current Impact: {driver.currentImpact}</p>\n                  <p>Potential: {driver.potentialImpact}</p>\n                  <p className={styles.action}>{driver.action}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Call to Action */}\n      <div className={styles.ctaSection}>\n        <div className={styles.ctaContent}>\n          <h2>{report?.nextSteps?.booking?.headline || \"Ready to Transform?\"}</h2>\n          <p>{report?.nextSteps?.booking?.subheadline || \"Get your personalized roadmap\"}</p>\n          \n          <div className={styles.ctaButtons}>\n            <button onClick={handleBookConsultation} className={styles.primaryCTA}>\n              {report?.nextSteps?.booking?.buttonText || \"Book Your QuickMap Session\"}\n            </button>\n            <button onClick={handleDownloadReport} className={styles.secondaryCTA}>\n              Download Full Report\n            </button>\n            <button onClick={handleDownloadRawData} className={styles.secondaryCTA} style={{marginTop: '10px', backgroundColor: '#444'}}>\n              Download Raw JSON Data\n            </button>\n          </div>\n          \n          {report?.nextSteps?.urgency && (\n            <p className={styles.urgencyMessage}>{report.nextSteps.urgency.message}</p>\n          )}\n        </div>\n        \n        {report?.nextSteps?.testimonial && (\n          <div className={styles.testimonial}>\n            <blockquote>\"{report.nextSteps.testimonial.quote}\"</blockquote>\n            <cite>\n              — {report.nextSteps.testimonial.author}, {report.nextSteps.testimonial.role}\n            </cite>\n            <p className={styles.result}>{report.nextSteps.testimonial.result}</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ResultsDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}