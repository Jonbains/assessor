{"ast":null,"code":"import _objectSpread from\"/Users/jon/Documents/GitHub/assessor/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{ProgressBar}from'./ProgressBar';import styles from'../styles/components.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ServiceSelector=_ref=>{let{assessmentType,onSelect,onBack}=_ref;const[services,setServices]=useState([]);const[selectedServices,setSelectedServices]=useState({});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const loadServices=async()=>{try{setLoading(true);// Dynamic import for services based on assessment type\nconst servicesModule=await import(\"../../assessments/\".concat(assessmentType,\"/services.json\"));setServices(servicesModule.default||[]);setError(null);}catch(error){console.error('Failed to load services:',error);setError('Failed to load services. Please try again.');}finally{setLoading(false);}};useEffect(()=>{loadServices();},[assessmentType]);const toggleService=serviceId=>{setSelectedServices(prev=>{const newSelections=_objectSpread({},prev);if(newSelections[serviceId]){delete newSelections[serviceId];}else{newSelections[serviceId]=1;}return newSelections;});};const handleContinue=()=>{const selected=Object.keys(selectedServices);if(selected.length===0){alert('Please select at least one service to continue');return;}onSelect(selected);};const hasSelections=Object.keys(selectedServices).length>0;if(loading){return/*#__PURE__*/_jsx(\"div\",{className:styles.loading,children:\"Loading services...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:styles.error,children:[/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>loadServices(),children:\"Try Again\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.header,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Select Services\"}),/*#__PURE__*/_jsx(ProgressBar,{progress:40})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Which services does your agency provide? Select all that apply.\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.serviceGrid,children:services.map(service=>/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.serviceCard,\" \").concat(selectedServices[service.id]?styles.selected:''),onClick:()=>toggleService(service.id),children:[/*#__PURE__*/_jsx(\"div\",{className:styles.serviceIcon,children:service.icon}),/*#__PURE__*/_jsx(\"h3\",{children:service.name}),/*#__PURE__*/_jsx(\"p\",{children:service.description}),selectedServices[service.id]&&/*#__PURE__*/_jsx(\"div\",{className:styles.checkmark,children:\"\\u2713\"})]},service.id))}),/*#__PURE__*/_jsxs(\"div\",{className:styles.buttonContainer,children:[/*#__PURE__*/_jsx(\"button\",{className:styles.backButton,onClick:onBack,children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.continueButton,disabled:!hasSelections,onClick:handleContinue,children:\"Continue\"})]})]});};export default ServiceSelector;","map":{"version":3,"names":["React","useState","useEffect","ProgressBar","styles","jsx","_jsx","jsxs","_jsxs","ServiceSelector","_ref","assessmentType","onSelect","onBack","services","setServices","selectedServices","setSelectedServices","loading","setLoading","error","setError","loadServices","servicesModule","concat","default","console","toggleService","serviceId","prev","newSelections","_objectSpread","handleContinue","selected","Object","keys","length","alert","hasSelections","className","children","onClick","container","header","progress","serviceGrid","map","service","serviceCard","id","serviceIcon","icon","name","description","checkmark","buttonContainer","backButton","continueButton","disabled"],"sources":["/Users/jon/Documents/GitHub/assessor/src/core/components/ServiceSelector.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ProgressBar } from './ProgressBar';\nimport styles from '../styles/components.module.css';\n\nconst ServiceSelector = ({ assessmentType, onSelect, onBack }) => {\n    const [services, setServices] = useState([]);\n    const [selectedServices, setSelectedServices] = useState({});\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    const loadServices = async () => {\n        try {\n            setLoading(true);\n            // Dynamic import for services based on assessment type\n            const servicesModule = await import(`../../assessments/${assessmentType}/services.json`);\n            setServices(servicesModule.default || []);\n            setError(null);\n        } catch (error) {\n            console.error('Failed to load services:', error);\n            setError('Failed to load services. Please try again.');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        loadServices();\n    }, [assessmentType]);\n\n    const toggleService = (serviceId) => {\n        setSelectedServices(prev => {\n            const newSelections = { ...prev };\n            if (newSelections[serviceId]) {\n                delete newSelections[serviceId];\n            } else {\n                newSelections[serviceId] = 1;\n            }\n            return newSelections;\n        });\n    };\n\n    const handleContinue = () => {\n        const selected = Object.keys(selectedServices);\n        \n        if (selected.length === 0) {\n            alert('Please select at least one service to continue');\n            return;\n        }\n        \n        onSelect(selected);\n    };\n\n    const hasSelections = Object.keys(selectedServices).length > 0;\n\n    if (loading) {\n        return <div className={styles.loading}>Loading services...</div>;\n    }\n\n    if (error) {\n        return (\n            <div className={styles.error}>\n                <p>{error}</p>\n                <button onClick={() => loadServices()}>Try Again</button>\n            </div>\n        );\n    }\n\n    return (\n        <div className={styles.container}>\n            <div className={styles.header}>\n                <h2>Select Services</h2>\n                <ProgressBar progress={40} />\n            </div>\n            \n            <p>Which services does your agency provide? Select all that apply.</p>\n            \n            <div className={styles.serviceGrid}>\n                {services.map(service => (\n                    <div \n                        key={service.id}\n                        className={`${styles.serviceCard} ${selectedServices[service.id] ? styles.selected : ''}`}\n                        onClick={() => toggleService(service.id)}\n                    >\n                        <div className={styles.serviceIcon}>{service.icon}</div>\n                        <h3>{service.name}</h3>\n                        <p>{service.description}</p>\n                        {selectedServices[service.id] && <div className={styles.checkmark}>âœ“</div>}\n                    </div>\n                ))}\n            </div>\n            \n            <div className={styles.buttonContainer}>\n                <button \n                    className={styles.backButton} \n                    onClick={onBack}\n                >\n                    Back\n                </button>\n                <button \n                    className={styles.continueButton}\n                    disabled={!hasSelections}\n                    onClick={handleContinue}\n                >\n                    Continue\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default ServiceSelector;\n"],"mappings":"yHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,eAAe,CAC3C,MAAO,CAAAC,MAAM,KAAM,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAA0C,IAAzC,CAAEC,cAAc,CAAEC,QAAQ,CAAEC,MAAO,CAAC,CAAAH,IAAA,CACzD,KAAM,CAACI,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACe,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC5D,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACmB,KAAK,CAAEC,QAAQ,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAqB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACAH,UAAU,CAAC,IAAI,CAAC,CAChB;AACA,KAAM,CAAAI,cAAc,CAAG,KAAM,OAAM,sBAAAC,MAAA,CAAsBb,cAAc,kBAAgB,CAAC,CACxFI,WAAW,CAACQ,cAAc,CAACE,OAAO,EAAI,EAAE,CAAC,CACzCJ,QAAQ,CAAC,IAAI,CAAC,CAClB,CAAE,MAAOD,KAAK,CAAE,CACZM,OAAO,CAACN,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDC,QAAQ,CAAC,4CAA4C,CAAC,CAC1D,CAAC,OAAS,CACNF,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAEDjB,SAAS,CAAC,IAAM,CACZoB,YAAY,CAAC,CAAC,CAClB,CAAC,CAAE,CAACX,cAAc,CAAC,CAAC,CAEpB,KAAM,CAAAgB,aAAa,CAAIC,SAAS,EAAK,CACjCX,mBAAmB,CAACY,IAAI,EAAI,CACxB,KAAM,CAAAC,aAAa,CAAAC,aAAA,IAAQF,IAAI,CAAE,CACjC,GAAIC,aAAa,CAACF,SAAS,CAAC,CAAE,CAC1B,MAAO,CAAAE,aAAa,CAACF,SAAS,CAAC,CACnC,CAAC,IAAM,CACHE,aAAa,CAACF,SAAS,CAAC,CAAG,CAAC,CAChC,CACA,MAAO,CAAAE,aAAa,CACxB,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAE,cAAc,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,QAAQ,CAAGC,MAAM,CAACC,IAAI,CAACnB,gBAAgB,CAAC,CAE9C,GAAIiB,QAAQ,CAACG,MAAM,GAAK,CAAC,CAAE,CACvBC,KAAK,CAAC,gDAAgD,CAAC,CACvD,OACJ,CAEAzB,QAAQ,CAACqB,QAAQ,CAAC,CACtB,CAAC,CAED,KAAM,CAAAK,aAAa,CAAGJ,MAAM,CAACC,IAAI,CAACnB,gBAAgB,CAAC,CAACoB,MAAM,CAAG,CAAC,CAE9D,GAAIlB,OAAO,CAAE,CACT,mBAAOZ,IAAA,QAAKiC,SAAS,CAAEnC,MAAM,CAACc,OAAQ,CAAAsB,QAAA,CAAC,qBAAmB,CAAK,CAAC,CACpE,CAEA,GAAIpB,KAAK,CAAE,CACP,mBACIZ,KAAA,QAAK+B,SAAS,CAAEnC,MAAM,CAACgB,KAAM,CAAAoB,QAAA,eACzBlC,IAAA,MAAAkC,QAAA,CAAIpB,KAAK,CAAI,CAAC,cACdd,IAAA,WAAQmC,OAAO,CAAEA,CAAA,GAAMnB,YAAY,CAAC,CAAE,CAAAkB,QAAA,CAAC,WAAS,CAAQ,CAAC,EACxD,CAAC,CAEd,CAEA,mBACIhC,KAAA,QAAK+B,SAAS,CAAEnC,MAAM,CAACsC,SAAU,CAAAF,QAAA,eAC7BhC,KAAA,QAAK+B,SAAS,CAAEnC,MAAM,CAACuC,MAAO,CAAAH,QAAA,eAC1BlC,IAAA,OAAAkC,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBlC,IAAA,CAACH,WAAW,EAACyC,QAAQ,CAAE,EAAG,CAAE,CAAC,EAC5B,CAAC,cAENtC,IAAA,MAAAkC,QAAA,CAAG,iEAA+D,CAAG,CAAC,cAEtElC,IAAA,QAAKiC,SAAS,CAAEnC,MAAM,CAACyC,WAAY,CAAAL,QAAA,CAC9B1B,QAAQ,CAACgC,GAAG,CAACC,OAAO,eACjBvC,KAAA,QAEI+B,SAAS,IAAAf,MAAA,CAAKpB,MAAM,CAAC4C,WAAW,MAAAxB,MAAA,CAAIR,gBAAgB,CAAC+B,OAAO,CAACE,EAAE,CAAC,CAAG7C,MAAM,CAAC6B,QAAQ,CAAG,EAAE,CAAG,CAC1FQ,OAAO,CAAEA,CAAA,GAAMd,aAAa,CAACoB,OAAO,CAACE,EAAE,CAAE,CAAAT,QAAA,eAEzClC,IAAA,QAAKiC,SAAS,CAAEnC,MAAM,CAAC8C,WAAY,CAAAV,QAAA,CAAEO,OAAO,CAACI,IAAI,CAAM,CAAC,cACxD7C,IAAA,OAAAkC,QAAA,CAAKO,OAAO,CAACK,IAAI,CAAK,CAAC,cACvB9C,IAAA,MAAAkC,QAAA,CAAIO,OAAO,CAACM,WAAW,CAAI,CAAC,CAC3BrC,gBAAgB,CAAC+B,OAAO,CAACE,EAAE,CAAC,eAAI3C,IAAA,QAAKiC,SAAS,CAAEnC,MAAM,CAACkD,SAAU,CAAAd,QAAA,CAAC,QAAC,CAAK,CAAC,GAPrEO,OAAO,CAACE,EAQZ,CACR,CAAC,CACD,CAAC,cAENzC,KAAA,QAAK+B,SAAS,CAAEnC,MAAM,CAACmD,eAAgB,CAAAf,QAAA,eACnClC,IAAA,WACIiC,SAAS,CAAEnC,MAAM,CAACoD,UAAW,CAC7Bf,OAAO,CAAE5B,MAAO,CAAA2B,QAAA,CACnB,MAED,CAAQ,CAAC,cACTlC,IAAA,WACIiC,SAAS,CAAEnC,MAAM,CAACqD,cAAe,CACjCC,QAAQ,CAAE,CAACpB,aAAc,CACzBG,OAAO,CAAET,cAAe,CAAAQ,QAAA,CAC3B,UAED,CAAQ,CAAC,EACR,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAA/B,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}