{"ast":null,"code":"import React,{useState,useEffect}from'react';import{ProgressBar}from'./ProgressBar';import styles from'../styles/components.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SectorSelector=_ref=>{let{assessmentType,onSelect,onBack}=_ref;const[sectors,setSectors]=useState([]);const[selectedSector,setSelectedSector]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const loadSectors=async()=>{try{// Use dynamic import instead of fetch\nconst module=await import(\"../../assessments/\".concat(assessmentType,\"/sectors.json\"));const data=module.default||module;console.log('Loaded sectors data:',data);setSectors(data.sectors||[]);}catch(error){console.error('Failed to load sectors:',error);}finally{setLoading(false);}};loadSectors();},[assessmentType]);const handleSelect=sector=>{// Update local state for visual feedback\nsetSelectedSector(sector);// Brief delay to show selection before proceeding\nsetTimeout(()=>{// Auto-advance using the onSelect prop\nonSelect(sector);},300);};// Manual continue button handler (as fallback)\nconst handleContinue=()=>{if(selectedSector){onSelect(selectedSector);}};const title=assessmentType==='agency-vulnerability'?\"What type of agency are you?\":\"What industry is your company in?\";const description=assessmentType==='agency-vulnerability'?\"We'll tailor your assessment to the unique challenges of your sector.\":\"This helps us provide relevant benchmarks and recommendations.\";return/*#__PURE__*/_jsxs(\"div\",{className:styles.screen,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.header,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.logo,children:[\"obsolete\",/*#__PURE__*/_jsx(\"span\",{children:\".\"})]}),/*#__PURE__*/_jsx(ProgressBar,{progress:15,label:\"Step 2 of 7\"})]}),/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsx(\"p\",{children:description}),loading?/*#__PURE__*/_jsx(\"p\",{style:{color:'#aaa',fontStyle:'italic'},children:\"Loading sectors...\"}):/*#__PURE__*/_jsx(\"div\",{className:styles.assessmentGrid,children:sectors.map(sector=>/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.assessmentCard,\" \").concat((selectedSector===null||selectedSector===void 0?void 0:selectedSector.id)===sector.id?styles.selected:''),onClick:()=>handleSelect(sector),children:[/*#__PURE__*/_jsx(\"div\",{className:styles.cardIcon,children:sector.icon}),/*#__PURE__*/_jsxs(\"div\",{className:styles.cardContent,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.cardTitle,children:sector.name||sector.label}),/*#__PURE__*/_jsx(\"p\",{className:styles.cardDescription,children:sector.description})]})]},sector.id||sector.value))}),/*#__PURE__*/_jsxs(\"div\",{className:styles.navigation,children:[/*#__PURE__*/_jsx(\"button\",{className:styles.navButton,onClick:onBack,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(styles.navButton,\" \").concat(styles.primary),disabled:!selectedSector,onClick:handleContinue,children:\"Continue\"})]})]});};export default SectorSelector;","map":{"version":3,"names":["React","useState","useEffect","ProgressBar","styles","jsx","_jsx","jsxs","_jsxs","SectorSelector","_ref","assessmentType","onSelect","onBack","sectors","setSectors","selectedSector","setSelectedSector","loading","setLoading","loadSectors","module","concat","data","default","console","log","error","handleSelect","sector","setTimeout","handleContinue","title","description","className","screen","children","header","logo","progress","label","style","color","fontStyle","assessmentGrid","map","assessmentCard","id","selected","onClick","cardIcon","icon","cardContent","cardTitle","name","cardDescription","value","navigation","navButton","primary","disabled"],"sources":["/Users/jon/Documents/GitHub/assessor/src/core/components/SectorSelector.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ProgressBar } from './ProgressBar';\nimport styles from '../styles/components.module.css';\n\nconst SectorSelector = ({ assessmentType, onSelect, onBack }) => {\n    const [sectors, setSectors] = useState([]);\n    const [selectedSector, setSelectedSector] = useState(null);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const loadSectors = async () => {\n            try {\n                // Use dynamic import instead of fetch\n                const module = await import(`../../assessments/${assessmentType}/sectors.json`);\n                const data = module.default || module;\n                console.log('Loaded sectors data:', data);\n                setSectors(data.sectors || []);\n            } catch (error) {\n                console.error('Failed to load sectors:', error);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        loadSectors();\n    }, [assessmentType]);\n\n    const handleSelect = (sector) => {\n        // Update local state for visual feedback\n        setSelectedSector(sector);\n        \n        // Brief delay to show selection before proceeding\n        setTimeout(() => {\n            // Auto-advance using the onSelect prop\n            onSelect(sector);\n        }, 300);\n    };\n\n    // Manual continue button handler (as fallback)\n    const handleContinue = () => {\n        if (selectedSector) {\n            onSelect(selectedSector);\n        }\n    };\n\n    const title = assessmentType === 'agency-vulnerability' ? \n        \"What type of agency are you?\" : \n        \"What industry is your company in?\";\n    \n    const description = assessmentType === 'agency-vulnerability' ?\n        \"We'll tailor your assessment to the unique challenges of your sector.\" :\n        \"This helps us provide relevant benchmarks and recommendations.\";\n\n    return (\n        <div className={styles.screen}>\n            <div className={styles.header}>\n                <div className={styles.logo}>obsolete<span>.</span></div>\n                <ProgressBar progress={15} label=\"Step 2 of 7\" />\n            </div>\n            \n            <h2>{title}</h2>\n            <p>{description}</p>\n            \n            {loading ? (\n                <p style={{ color: '#aaa', fontStyle: 'italic' }}>Loading sectors...</p>\n            ) : (\n                <div className={styles.assessmentGrid}>\n                    {sectors.map((sector) => (\n                        <div \n                            key={sector.id || sector.value}\n                            className={`${styles.assessmentCard} ${selectedSector?.id === sector.id ? styles.selected : ''}`}\n                            onClick={() => handleSelect(sector)}\n                        >\n                            <div className={styles.cardIcon}>{sector.icon}</div>\n                            <div className={styles.cardContent}>\n                                <h3 className={styles.cardTitle}>{sector.name || sector.label}</h3>\n                                <p className={styles.cardDescription}>{sector.description}</p>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            )}\n            \n            <div className={styles.navigation}>\n                <button className={styles.navButton} onClick={onBack}>‚Üê Back</button>\n                <button \n                    className={`${styles.navButton} ${styles.primary}`}\n                    disabled={!selectedSector}\n                    onClick={handleContinue}\n                >\n                    Continue\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default SectorSelector;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}