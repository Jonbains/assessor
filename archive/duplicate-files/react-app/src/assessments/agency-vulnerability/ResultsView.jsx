
import React from 'react';

const AgencyResultsView = ({ results }) => {
    const { executive, readiness, opportunities, roadmap, impact, nextSteps } = results;
    
    return (
        <>
            {/* Executive Summary */}
            <div className="report-section executive-summary">
                <h2>Executive Summary</h2>
                <div className="headline-section">
                    <h1>{executive.headline}</h1>
                    <p className="subheadline">{executive.subheadline}</p>
                </div>
                
                <div className="results-header">
                    <div className="score-circle">
                        <svg width="180" height="180">
                            <circle cx="90" cy="90" r="80" stroke="rgba(255,255,255,0.1)" strokeWidth="12" fill="none"/>
                            <circle cx="90" cy="90" r="80" stroke="#ffff66" strokeWidth="12" fill="none"
                                strokeDasharray={`${executive.keyMetrics.readinessScore.value * 5.03} 503`}
                                strokeLinecap="round"
                            />
                        </svg>
                        <div className="score-value">{executive.keyMetrics.readinessScore.value}</div>
                        <div className="score-label">Readiness Score</div>
                    </div>
                </div>
                
                <div className="key-metrics-grid">
                    {Object.entries(executive.keyMetrics).map(([key, metric]) => (
                        <div key={key} className="metric-card">
                            <div className="value">{metric.value}</div>
                            <div className="label">{metric.label}</div>
                            <div className="interpretation">{metric.interpretation}</div>
                        </div>
                    ))}
                </div>
                
                <div className="narrative">
                    <p>{executive.narrative}</p>
                </div>
            </div>

            {/* Readiness Analysis */}
            <div className="report-section readiness-analysis">
                <h2>Readiness Analysis</h2>
                <div className="readiness-dimensions-grid">
                    {readiness.dimensions.map((dimension, idx) => (
                        <div key={idx} className="dimension-card">
                            <div className="name">{dimension.name}</div>
                            <div className="score">{dimension.score}%</div>
                            <div className="description">{dimension.description}</div>
                        </div>
                    ))}
                </div>
                
                {readiness.serviceReadiness && readiness.serviceReadiness.length > 0 && (
                    <div className="service-readiness">
                        <h3>Service Readiness</h3>
                        {readiness.serviceReadiness.map((service, idx) => (
                            <div key={idx} className="service-item">
                                <span className="service-name">{service.name}</span>
                                <span className="service-score">{service.score}%</span>
                                <span className="service-interpretation">{service.interpretation}</span>
                            </div>
                        ))}
                    </div>
                )}
            </div>

            {/* Opportunities */}
            <div className="report-section opportunities">
                <h2>Transformation Opportunities</h2>
                
                <div className="immediate-actions">
                    <h3>{opportunities.immediate.title}</h3>
                    <p>{opportunities.immediate.subtitle}</p>
                    {opportunities.immediate.items.map((item, idx) => (
                        <div key={idx} className="recommendation-item">
                            <div className="title">{item.title}</div>
                            <div className="description">{item.description}</div>
                            <div className="details">
                                <span><strong>Effort:</strong> {item.effort}</span>
                                <span><strong>Impact:</strong> {item.impact}</span>
                            </div>
                        </div>
                    ))}
                </div>
            </div>

            {/* Roadmap */}
            <div className="report-section roadmap">
                <h2>Your Transformation Roadmap</h2>
                <div className="roadmap-overview">
                    <h3>{roadmap.overview.title}</h3>
                    <p>{roadmap.overview.approach}</p>
                </div>
                
                {roadmap.phases.map((phase, idx) => (
                    <div key={idx} className="roadmap-phase">
                        <div className="phase-title">{phase.title}</div>
                        <div className="phase-duration">{phase.duration}</div>
                        <ul>
                            {phase.actions.map((action, i) => (
                                <li key={i}>{action}</li>
                            ))}
                        </ul>
                    </div>
                ))}
            </div>

            {/* Valuation Impact */}
            {impact && (
                <div className="report-section valuation-impact">
                    <h2>{impact.title}</h2>
                    <p>{impact.subtitle}</p>
                    
                    <div className="valuation-grid">
                        <div className="valuation-card current">
                            <div className="label">Current Valuation</div>
                            <div className="value">{impact.current.multiple}</div>
                        </div>
                        <div className="valuation-card potential">
                            <div className="label">Potential Valuation</div>
                            <div className="value">{impact.potential.multiple}</div>
                            <div className="increase">{impact.potential.increase}</div>
                        </div>
                    </div>
                    
                    <ul className="valuation-drivers-list">
                        {impact.drivers.map((driver, idx) => (
                            <li key={idx}>
                                <strong>{driver.driver}:</strong> {driver.action} ({driver.potentialImpact})
                            </li>
                        ))}
                    </ul>
                </div>
            )}

            {/* Next Steps */}
            <div className="report-section next-steps">
                <h2>Your Next Steps</h2>
                
                <div className="next-steps-options">
                    {nextSteps.options.map((option, idx) => (
                        <div key={idx} className="next-step-card">
                            <div className="title">{option.title}</div>
                            <div className="price">{option.price}</div>
                            <p>{option.description}</p>
                            <p className="ideal-for">{option.idealFor}</p>
                        </div>
                    ))}
                </div>
                
                {nextSteps.testimonial && (
                    <div className="testimonial">
                        <p className="testimonial-quote">"{nextSteps.testimonial.quote}"</p>
                        <p className="testimonial-author">
                            â€” {nextSteps.testimonial.author}, {nextSteps.testimonial.role}
                        </p>
                    </div>
                )}
            </div>
        </>
    );
};

export default AgencyResultsView;